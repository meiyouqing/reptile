{"content":"<p><span style=\"font-family: courier new,courier; color: #000000;\"><span style=\"font-family: courier new,courier;\">&#x4F5C;&#x8005;&#xFF1A;Vamei &#x51FA;&#x5904;&#xFF1A;http://www.cnblogs.com/vamei &#x6B22;&#x8FCE;&#x8F6C;&#x8F7D;&#xFF0C;&#x4E5F;&#x8BF7;&#x4FDD;&#x7559;&#x8FD9;&#x6BB5;&#x58F0;&#x660E;&#x3002;&#x8C22;&#x8C22;&#xFF01;</span></span></p>\r\n<p>&#xA0;</p>\r\n<p><span style=\"font-family: courier new,courier;\"><span style=\"color: #ff0000;\">&#x88C5;&#x9970;&#x5668;</span>(decorator)&#x662F;&#x4E00;&#x79CD;&#x9AD8;&#x7EA7;Python&#x8BED;&#x6CD5;&#x3002;&#x88C5;&#x9970;&#x5668;&#x53EF;&#x4EE5;<span style=\"color: #ff0000;\">&#x5BF9;&#x4E00;&#x4E2A;&#x51FD;&#x6570;&#x3001;&#x65B9;&#x6CD5;&#x6216;&#x8005;&#x7C7B;&#x8FDB;&#x884C;&#x52A0;&#x5DE5;</span>&#x3002;&#x5728;Python&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x6709;&#x591A;&#x79CD;&#x65B9;&#x6CD5;&#x5BF9;&#x51FD;&#x6570;&#x548C;&#x7C7B;&#x8FDB;&#x884C;&#x52A0;&#x5DE5;&#xFF0C;&#x6BD4;&#x5982;&#x5728;<a href=\"http://www.cnblogs.com/vamei/archive/2012/12/15/2772451.html\">Python&#x95ED;&#x5305;</a>&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x89C1;&#x5230;&#x51FD;&#x6570;&#x5BF9;&#x8C61;&#x4F5C;&#x4E3A;&#x67D0;&#x4E00;&#x4E2A;&#x51FD;&#x6570;&#x7684;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x3002;&#x76F8;&#x5BF9;&#x4E8E;&#x5176;&#x5B83;&#x65B9;&#x5F0F;&#xFF0C;&#x88C5;&#x9970;&#x5668;&#x8BED;&#x6CD5;&#x7B80;&#x5355;&#xFF0C;&#x4EE3;&#x7801;&#x53EF;&#x8BFB;&#x6027;&#x9AD8;&#x3002;&#x56E0;&#x6B64;&#xFF0C;&#x88C5;&#x9970;&#x5668;&#x5728;Python&#x9879;&#x76EE;&#x4E2D;&#x6709;&#x5E7F;&#x6CDB;&#x7684;&#x5E94;&#x7528;&#x3002;</span></p>\r\n<p><span style=\"font-family: courier new,courier;\">&#x88C5;&#x9970;&#x5668;&#x6700;&#x65E9;&#x5728;Python 2.5&#x4E2D;&#x51FA;&#x73B0;&#xFF0C;&#x5B83;&#x6700;&#x521D;&#x88AB;&#x7528;&#x4E8E;&#x52A0;&#x5DE5;&#x51FD;&#x6570;&#x548C;&#x65B9;&#x6CD5;&#x8FD9;&#x6837;&#x7684;<span style=\"color: #ff0000;\">&#x53EF;&#x8C03;&#x7528;&#x5BF9;&#x8C61;</span>(callable object&#xFF0C;&#x8FD9;&#x6837;&#x7684;&#x5BF9;&#x8C61;&#x5B9A;&#x4E49;&#x6709;__call__&#x65B9;&#x6CD5;)&#x3002;&#x5728;Python 2.6&#x4EE5;&#x53CA;&#x4E4B;&#x540E;&#x7684;Python&#x7248;&#x672C;&#x4E2D;&#xFF0C;&#x88C5;&#x9970;&#x5668;&#x88AB;&#x8FDB;&#x4E00;&#x6B65;&#x7528;&#x4E8E;&#x52A0;&#x5DE5;&#x7C7B;&#x3002;</span></p>\r\n<p><span style=\"font-family: courier new,courier;\">&#xA0;</span></p>\r\n<h3><span style=\"font-family: courier new,courier;\">&#x88C5;&#x9970;&#x51FD;&#x6570;&#x548C;&#x65B9;&#x6CD5;</span></h3>\r\n<p><span style=\"font-family: courier new,courier;\">&#x6211;&#x4EEC;&#x5148;&#x5B9A;&#x4E49;&#x4E24;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x6570;&#x5B66;&#x51FD;&#x6570;&#xFF0C;&#x4E00;&#x4E2A;&#x7528;&#x6765;&#x8BA1;&#x7B97;&#x5E73;&#x65B9;&#x548C;&#xFF0C;&#x4E00;&#x4E2A;&#x7528;&#x6765;&#x8BA1;&#x7B97;&#x5E73;&#x65B9;&#x5DEE;&#xFF1A;</span></p>\r\n<div class=\"cnblogs_code\">\r\n<pre><span style=\"font-family: courier new,courier;\"><span style=\"color: #008000;\">#</span><span style=\"color: #008000;\"> get square sum</span>\r\n<span style=\"color: #0000ff;\">def</span><span style=\"color: #000000;\"> square_sum(a, b):\r\n    </span><span style=\"color: #0000ff;\">return</span> a**2 + b**2\r\n\r\n<span style=\"color: #008000;\">#</span><span style=\"color: #008000;\"> get square diff</span>\r\n<span style=\"color: #0000ff;\">def</span><span style=\"color: #000000;\"> square_diff(a, b):\r\n    </span><span style=\"color: #0000ff;\">return</span> a**2 - b**2</span><br><br></pre>\r\n<pre><span style=\"font-family: courier new,courier;\"><span style=\"color: #0000ff;\">print</span>(square_sum(3, 4<span style=\"color: #000000;\">))\r\n</span><span style=\"color: #0000ff;\">print</span>(square_diff(3, 4))</span></pre>\r\n</div>\r\n<p><span style=\"font-family: courier new,courier;\">&#x5728;&#x62E5;&#x6709;&#x4E86;&#x57FA;&#x672C;&#x7684;&#x6570;&#x5B66;&#x529F;&#x80FD;&#x4E4B;&#x540E;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x80FD;&#x60F3;&#x4E3A;&#x51FD;&#x6570;&#x589E;&#x52A0;&#x5176;&#x5B83;&#x7684;&#x529F;&#x80FD;&#xFF0C;&#x6BD4;&#x5982;&#x6253;&#x5370;&#x8F93;&#x5165;&#x3002;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x6539;&#x5199;&#x51FD;&#x6570;&#x6765;&#x5B9E;&#x73B0;&#x8FD9;&#x4E00;&#x70B9;&#xFF1A;</span></p>\r\n<div class=\"cnblogs_code\">\r\n<pre><span style=\"font-family: courier new,courier;\"><span style=\"color: #008000;\">#</span><span style=\"color: #008000;\"> modify: print input</span>\r\n\r\n<span style=\"color: #008000;\">#</span><span style=\"color: #008000;\"> get square sum</span>\r\n<span style=\"color: #0000ff;\">def</span><span style=\"color: #000000;\"> square_sum(a, b):\r\n    </span><span style=\"color: #0000ff;\">print</span>(<span style=\"color: #800000;\">&quot;</span><span style=\"color: #800000;\">intput:</span><span style=\"color: #800000;\">&quot;</span><span style=\"color: #000000;\">, a, b)\r\n    </span><span style=\"color: #0000ff;\">return</span> a**2 + b**2\r\n\r\n<span style=\"color: #008000;\">#</span><span style=\"color: #008000;\"> get square diff</span>\r\n<span style=\"color: #0000ff;\">def</span><span style=\"color: #000000;\"> square_diff(a, b):\r\n    </span><span style=\"color: #0000ff;\">print</span>(<span style=\"color: #800000;\">&quot;</span><span style=\"color: #800000;\">input</span><span style=\"color: #800000;\">&quot;</span><span style=\"color: #000000;\">, a, b)\r\n    </span><span style=\"color: #0000ff;\">return</span> a**2 - b**2</span><br><br></pre>\r\n<pre><span style=\"font-family: courier new,courier;\"><span style=\"color: #0000ff;\">print</span>(square_sum(3, 4<span style=\"color: #000000;\">))\r\n</span><span style=\"color: #0000ff;\">print</span>(square_diff(3, 4))</span></pre>\r\n</div>\r\n<p><span style=\"font-family: courier new,courier;\">&#x6211;&#x4EEC;&#x4FEE;&#x6539;&#x4E86;&#x51FD;&#x6570;&#x7684;&#x5B9A;&#x4E49;&#xFF0C;&#x4E3A;&#x51FD;&#x6570;&#x589E;&#x52A0;&#x4E86;&#x529F;&#x80FD;&#x3002;</span></p>\r\n<p><span style=\"font-family: courier new,courier;\">&#xA0;</span></p>\r\n<p><span style=\"font-family: courier new,courier;\">&#x73B0;&#x5728;&#xFF0C;&#x6211;&#x4EEC;&#x4F7F;&#x7528;&#x88C5;&#x9970;&#x5668;&#x6765;&#x5B9E;&#x73B0;&#x4E0A;&#x8FF0;&#x4FEE;&#x6539;&#xFF1A;</span></p>\r\n<div class=\"cnblogs_code\">\r\n<pre><span style=\"font-family: courier new,courier;\"><span style=\"color: #0000ff;\">def</span><span style=\"color: #000000;\"> decorator(F):\r\n    </span><span style=\"color: #0000ff;\">def</span><span style=\"color: #000000;\"> new_F(a, b):\r\n        </span><span style=\"color: #0000ff;\">print</span>(<span style=\"color: #800000;\">&quot;</span><span style=\"color: #800000;\">input</span><span style=\"color: #800000;\">&quot;</span><span style=\"color: #000000;\">, a, b)\r\n        </span><span style=\"color: #0000ff;\">return</span><span style=\"color: #000000;\"> F(a, b)\r\n    </span><span style=\"color: #0000ff;\">return</span><span style=\"color: #000000;\"> new_F\r\n\r\n</span><span style=\"color: #008000;\">#</span><span style=\"color: #008000;\"> get square sum</span>\r\n<span style=\"color: #000000;\">@decorator\r\n</span><span style=\"color: #0000ff;\">def</span><span style=\"color: #000000;\"> square_sum(a, b):\r\n    </span><span style=\"color: #0000ff;\">return</span> a**2 + b**2\r\n\r\n<span style=\"color: #008000;\">#</span><span style=\"color: #008000;\"> get square diff</span>\r\n<span style=\"color: #000000;\">@decorator\r\n</span><span style=\"color: #0000ff;\">def</span><span style=\"color: #000000;\"> square_diff(a, b):\r\n    </span><span style=\"color: #0000ff;\">return</span> a**2 - b**2\r\n\r\n<span style=\"color: #0000ff;\">print</span>(square_sum(3, 4<span style=\"color: #000000;\">))\r\n</span><span style=\"color: #0000ff;\">print</span>(square_diff(3, 4))</span></pre>\r\n</div>\r\n<p><span style=\"font-family: courier new,courier;\">&#x88C5;&#x9970;&#x5668;&#x53EF;&#x4EE5;&#x7528;def&#x7684;&#x5F62;&#x5F0F;&#x5B9A;&#x4E49;&#xFF0C;&#x5982;&#x4E0A;&#x9762;&#x4EE3;&#x7801;&#x4E2D;&#x7684;decorator&#x3002;&#x88C5;&#x9970;&#x5668;&#x63A5;&#x6536;&#x4E00;&#x4E2A;&#x53EF;&#x8C03;&#x7528;&#x5BF9;&#x8C61;&#x4F5C;&#x4E3A;&#x8F93;&#x5165;&#x53C2;&#x6570;&#xFF0C;&#x5E76;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x53EF;&#x8C03;&#x7528;&#x5BF9;&#x8C61;&#x3002;&#x88C5;&#x9970;&#x5668;&#x65B0;&#x5EFA;&#x4E86;&#x4E00;&#x4E2A;&#x53EF;&#x8C03;&#x7528;&#x5BF9;&#x8C61;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x4E0A;&#x9762;&#x7684;new_F&#x3002;new_F&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;<span style=\"color: #ff0000;\">&#x589E;&#x52A0;&#x4E86;&#x6253;&#x5370;&#x7684;&#x529F;&#x80FD;</span>&#xFF0C;&#x5E76;&#x901A;&#x8FC7;&#x8C03;&#x7528;F(a, b)&#x6765;<span style=\"color: #ff0000;\">&#x5B9E;&#x73B0;&#x539F;&#x6709;&#x51FD;&#x6570;</span>&#x7684;&#x529F;&#x80FD;&#x3002;</span></p>\r\n<p><span style=\"font-family: courier new,courier;\">&#x5B9A;&#x4E49;&#x597D;&#x88C5;&#x9970;&#x5668;&#x540E;&#xFF0C;&#x6211;&#x4EEC;&#x5C31;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;@&#x8BED;&#x6CD5;&#x4F7F;&#x7528;&#x4E86;&#x3002;&#x5728;&#x51FD;&#x6570;square_sum&#x548C;square_diff&#x5B9A;&#x4E49;&#x4E4B;&#x524D;&#x8C03;&#x7528;@decorator&#xFF0C;&#x6211;&#x4EEC;&#x5B9E;&#x9645;&#x4E0A;&#x5C06;square_sum&#x6216;square_diff&#x4F20;&#x9012;&#x7ED9;decorator&#xFF0C;&#x5E76;&#x5C06;decorator&#x8FD4;&#x56DE;&#x7684;&#x65B0;&#x7684;&#x53EF;&#x8C03;&#x7528;&#x5BF9;&#x8C61;&#x8D4B;&#x7ED9;&#x539F;&#x6765;&#x7684;&#x51FD;&#x6570;&#x540D;(square_sum&#x6216;square_diff)&#x3002; &#x6240;&#x4EE5;&#xFF0C;&#x5F53;&#x6211;&#x4EEC;&#x8C03;&#x7528;square_sum(3, 4)&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x5C31;&#x76F8;&#x5F53;&#x4E8E;&#xFF1A;</span></p>\r\n<div class=\"cnblogs_code\">\r\n<pre><span style=\"font-family: courier new,courier;\">square_sum =<span style=\"color: #000000;\"> decorator(square_sum)\r\nsquare_sum(</span>3, 4)</span></pre>\r\n</div>\r\n<p><span style=\"font-family: courier new,courier;\">&#x6211;&#x4EEC;&#x77E5;&#x9053;&#xFF0C;Python&#x4E2D;&#x7684;&#x53D8;&#x91CF;&#x540D;&#x548C;&#x5BF9;&#x8C61;&#x662F;&#x5206;&#x79BB;&#x7684;&#x3002;&#x53D8;&#x91CF;&#x540D;&#x53EF;&#x4EE5;&#x6307;&#x5411;&#x4EFB;&#x610F;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x3002;&#x4ECE;&#x672C;&#x8D28;&#x4E0A;&#xFF0C;&#x88C5;&#x9970;&#x5668;&#x8D77;&#x5230;&#x7684;&#x5C31;&#x662F;&#x8FD9;&#x6837;&#x4E00;&#x4E2A;&#x91CD;&#x65B0;&#x6307;&#x5411;&#x53D8;&#x91CF;&#x540D;&#x7684;&#x4F5C;&#x7528;(name binding)&#xFF0C;&#x8BA9;&#x540C;&#x4E00;&#x4E2A;&#x53D8;&#x91CF;&#x540D;&#x6307;&#x5411;&#x4E00;&#x4E2A;&#x65B0;&#x8FD4;&#x56DE;&#x7684;&#x53EF;&#x8C03;&#x7528;&#x5BF9;&#x8C61;&#xFF0C;&#x4ECE;&#x800C;&#x8FBE;&#x5230;&#x4FEE;&#x6539;&#x53EF;&#x8C03;&#x7528;&#x5BF9;&#x8C61;&#x7684;&#x76EE;&#x7684;&#x3002;</span></p>\r\n<p><span style=\"font-family: courier new,courier;\">&#x4E0E;&#x52A0;&#x5DE5;&#x51FD;&#x6570;&#x7C7B;&#x4F3C;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x88C5;&#x9970;&#x5668;&#x52A0;&#x5DE5;&#x7C7B;&#x7684;&#x65B9;&#x6CD5;&#x3002;</span></p>\r\n<p><span style=\"font-family: courier new,courier;\">&#xA0;</span></p>\r\n<p><span style=\"font-family: courier new,courier;\">&#x5982;&#x679C;&#x6211;&#x4EEC;&#x6709;&#x5176;&#x4ED6;&#x7684;&#x7C7B;&#x4F3C;&#x51FD;&#x6570;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x7EE7;&#x7EED;&#x8C03;&#x7528;decorator&#x6765;&#x4FEE;&#x9970;&#x51FD;&#x6570;&#xFF0C;&#x800C;&#x4E0D;&#x7528;&#x91CD;&#x590D;&#x4FEE;&#x6539;&#x51FD;&#x6570;&#x6216;&#x8005;&#x589E;&#x52A0;&#x65B0;&#x7684;&#x5C01;&#x88C5;&#x3002;&#x8FD9;&#x6837;&#xFF0C;&#x6211;&#x4EEC;&#x5C31;&#x63D0;&#x9AD8;&#x4E86;&#x7A0B;&#x5E8F;&#x7684;&#x53EF;&#x91CD;&#x590D;&#x5229;&#x7528;&#x6027;&#xFF0C;&#x5E76;&#x589E;&#x52A0;&#x4E86;&#x7A0B;&#x5E8F;&#x7684;&#x53EF;&#x8BFB;&#x6027;&#x3002;</span></p>\r\n<p><span style=\"font-family: courier new,courier;\">&#xA0;</span></p>\r\n<h3><span style=\"font-family: courier new,courier;\">&#x542B;&#x53C2;&#x7684;&#x88C5;&#x9970;&#x5668;</span></h3>\r\n<p><span style=\"font-family: courier new,courier;\">&#x5728;&#x4E0A;&#x9762;&#x7684;&#x88C5;&#x9970;&#x5668;&#x8C03;&#x7528;&#x4E2D;&#xFF0C;&#x6BD4;&#x5982;@decorator&#xFF0C;&#x8BE5;&#x88C5;&#x9970;&#x5668;&#x9ED8;&#x8BA4;&#x5B83;&#x540E;&#x9762;&#x7684;&#x51FD;&#x6570;&#x662F;&#x552F;&#x4E00;&#x7684;&#x53C2;&#x6570;&#x3002;&#x88C5;&#x9970;&#x5668;&#x7684;&#x8BED;&#x6CD5;&#x5141;&#x8BB8;&#x6211;&#x4EEC;&#x8C03;&#x7528;decorator&#x65F6;&#xFF0C;&#x63D0;&#x4F9B;&#x5176;&#x5B83;&#x53C2;&#x6570;&#xFF0C;&#x6BD4;&#x5982;@decorator(a)&#x3002;&#x8FD9;&#x6837;&#xFF0C;&#x5C31;&#x4E3A;&#x88C5;&#x9970;&#x5668;&#x7684;&#x7F16;&#x5199;&#x548C;&#x4F7F;&#x7528;&#x63D0;&#x4F9B;&#x4E86;&#x66F4;&#x5927;&#x7684;&#x7075;&#x6D3B;&#x6027;&#x3002;</span></p>\r\n<div class=\"cnblogs_code\">\r\n<pre><span style=\"font-family: courier new,courier;\"><span style=\"color: #008000;\">#</span><span style=\"color: #008000;\"> a new wrapper layer</span>\r\n<span style=\"color: #0000ff;\">def</span> pre_str(pre=<span style=\"color: #800000;\">&apos;&apos;</span><span style=\"color: #000000;\">):\r\n    </span><span style=\"color: #008000;\">#</span><span style=\"color: #008000;\"> old decorator</span>\r\n    <span style=\"color: #0000ff;\">def</span><span style=\"color: #000000;\"> decorator(F):\r\n        </span><span style=\"color: #0000ff;\">def</span><span style=\"color: #000000;\"> new_F(a, b):\r\n            </span><span style=\"color: #0000ff;\">print</span>(pre + <span style=\"color: #800000;\">&quot;</span><span style=\"color: #800000;\">input</span><span style=\"color: #800000;\">&quot;</span><span style=\"color: #000000;\">, a, b)\r\n            </span><span style=\"color: #0000ff;\">return</span><span style=\"color: #000000;\"> F(a, b)\r\n        </span><span style=\"color: #0000ff;\">return</span><span style=\"color: #000000;\"> new_F\r\n    </span><span style=\"color: #0000ff;\">return</span><span style=\"color: #000000;\"> decorator\r\n\r\n</span><span style=\"color: #008000;\">#</span><span style=\"color: #008000;\"> get square sum</span>\r\n@pre_str(<span style=\"color: #800000;\">&apos;</span><span style=\"color: #800000;\">^_^</span><span style=\"color: #800000;\">&apos;</span><span style=\"color: #000000;\">)\r\n</span><span style=\"color: #0000ff;\">def</span><span style=\"color: #000000;\"> square_sum(a, b):\r\n    </span><span style=\"color: #0000ff;\">return</span> a**2 + b**2\r\n\r\n<span style=\"color: #008000;\">#</span><span style=\"color: #008000;\"> get square diff</span>\r\n@pre_str(<span style=\"color: #800000;\">&apos;</span><span style=\"color: #800000;\">T_T</span><span style=\"color: #800000;\">&apos;</span><span style=\"color: #000000;\">)\r\n</span><span style=\"color: #0000ff;\">def</span><span style=\"color: #000000;\"> square_diff(a, b):\r\n    </span><span style=\"color: #0000ff;\">return</span> a**2 - b**2\r\n\r\n<span style=\"color: #0000ff;\">print</span>(square_sum(3, 4<span style=\"color: #000000;\">))\r\n</span><span style=\"color: #0000ff;\">print</span>(square_diff(3, 4))</span></pre>\r\n</div>\r\n<p><span style=\"font-family: courier new,courier;\">&#x4E0A;&#x9762;&#x7684;pre_str&#x662F;&#x5141;&#x8BB8;&#x53C2;&#x6570;&#x7684;&#x88C5;&#x9970;&#x5668;&#x3002;&#x5B83;&#x5B9E;&#x9645;&#x4E0A;&#x662F;&#x5BF9;&#x539F;&#x6709;&#x88C5;&#x9970;&#x5668;&#x7684;&#x4E00;&#x4E2A;&#x51FD;&#x6570;&#x5C01;&#x88C5;&#xFF0C;&#x5E76;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x88C5;&#x9970;&#x5668;&#x3002;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5C06;&#x5B83;&#x7406;&#x89E3;&#x4E3A;&#x4E00;&#x4E2A;&#x542B;&#x6709;&#x73AF;&#x5883;&#x53C2;&#x91CF;&#x7684;<a href=\"http://www.cnblogs.com/vamei/archive/2012/12/15/2772451.html\">&#x95ED;&#x5305;</a>&#x3002;&#x5F53;&#x6211;&#x4EEC;&#x4F7F;&#x7528;@pre_str(&apos;^_^&apos;)&#x8C03;&#x7528;&#x7684;&#x65F6;&#x5019;&#xFF0C;Python&#x80FD;&#x591F;&#x53D1;&#x73B0;&#x8FD9;&#x4E00;&#x5C42;&#x7684;&#x5C01;&#x88C5;&#xFF0C;&#x5E76;&#x628A;&#x53C2;&#x6570;&#x4F20;&#x9012;&#x5230;&#x88C5;&#x9970;&#x5668;&#x7684;&#x73AF;&#x5883;&#x4E2D;&#x3002;&#x8BE5;&#x8C03;&#x7528;&#x76F8;&#x5F53;&#x4E8E;:</span></p>\r\n<div class=\"cnblogs_code\">\r\n<pre><span style=\"font-family: courier new,courier;\">square_sum = pre_str(<span style=\"color: #800000;\">&apos;</span><span style=\"color: #800000;\">^_^</span><span style=\"color: #800000;\">&apos;</span>) (square_sum)</span></pre>\r\n</div>\r\n<p>&#xA0;</p>\r\n<h3><span style=\"font-family: courier new,courier;\">&#x88C5;&#x9970;&#x7C7B;</span></h3>\r\n<p><span style=\"font-family: courier new,courier;\">&#x5728;&#x4E0A;&#x9762;&#x7684;&#x4F8B;&#x5B50;&#x4E2D;&#xFF0C;&#x88C5;&#x9970;&#x5668;&#x63A5;&#x6536;&#x4E00;&#x4E2A;&#x51FD;&#x6570;&#xFF0C;&#x5E76;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x51FD;&#x6570;&#xFF0C;&#x4ECE;&#x800C;&#x8D77;&#x5230;&#x52A0;&#x5DE5;&#x51FD;&#x6570;&#x7684;&#x6548;&#x679C;&#x3002;&#x5728;Python 2.6&#x4EE5;&#x540E;&#xFF0C;&#x88C5;&#x9970;&#x5668;&#x88AB;&#x62D3;&#x5C55;&#x5230;&#x7C7B;&#x3002;&#x4E00;&#x4E2A;&#x88C5;&#x9970;&#x5668;&#x53EF;&#x4EE5;&#x63A5;&#x6536;&#x4E00;&#x4E2A;&#x7C7B;&#xFF0C;&#x5E76;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x7C7B;&#xFF0C;&#x4ECE;&#x800C;&#x8D77;&#x5230;&#x52A0;&#x5DE5;&#x7C7B;&#x7684;&#x6548;&#x679C;&#x3002;</span></p>\r\n<div class=\"cnblogs_code\">\r\n<pre><span style=\"font-family: courier new,courier;\"><span style=\"color: #0000ff;\">def</span><span style=\"color: #000000;\"> decorator(aClass):\r\n    </span><span style=\"color: #0000ff;\">class</span><span style=\"color: #000000;\"> newClass:\r\n        </span><span style=\"color: #0000ff;\">def</span> <span style=\"color: #800080;\">__init__</span><span style=\"color: #000000;\">(self, age):\r\n            self.total_display   </span>=<span style=\"color: #000000;\"> 0\r\n            self.wrapped         </span>=<span style=\"color: #000000;\"> aClass(age)\r\n        </span><span style=\"color: #0000ff;\">def</span><span style=\"color: #000000;\"> display(self):\r\n            self.total_display </span>+= 1\r\n            <span style=\"color: #0000ff;\">print</span>(<span style=\"color: #800000;\">&quot;</span><span style=\"color: #800000;\">total display</span><span style=\"color: #800000;\">&quot;</span><span style=\"color: #000000;\">, self.total_display)\r\n            self.wrapped.display()\r\n    </span><span style=\"color: #0000ff;\">return</span><span style=\"color: #000000;\"> newClass\r\n\r\n@decorator\r\n</span><span style=\"color: #0000ff;\">class</span><span style=\"color: #000000;\"> Bird:\r\n    </span><span style=\"color: #0000ff;\">def</span> <span style=\"color: #800080;\">__init__</span><span style=\"color: #000000;\">(self, age):\r\n        self.age </span>=<span style=\"color: #000000;\"> age\r\n    </span><span style=\"color: #0000ff;\">def</span><span style=\"color: #000000;\"> display(self):\r\n        </span><span style=\"color: #0000ff;\">print</span>(<span style=\"color: #800000;\">&quot;</span><span style=\"color: #800000;\">My age is</span><span style=\"color: #800000;\">&quot;</span><span style=\"color: #000000;\">,self.age)\r\n\r\neagleLord </span>= Bird(5<span style=\"color: #000000;\">)\r\n</span><span style=\"color: #0000ff;\">for</span> i <span style=\"color: #0000ff;\">in</span> range(3<span style=\"color: #000000;\">):\r\n    eagleLord.display()</span></span></pre>\r\n</div>\r\n<p><span style=\"font-family: courier new,courier;\">&#x5728;decorator&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x8FD4;&#x56DE;&#x4E86;&#x4E00;&#x4E2A;&#x65B0;&#x7C7B;newClass&#x3002;&#x5728;&#x65B0;&#x7C7B;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x8BB0;&#x5F55;&#x4E86;&#x539F;&#x6765;&#x7C7B;&#x751F;&#x6210;&#x7684;&#x5BF9;&#x8C61;&#xFF08;self.wrapped&#xFF09;&#xFF0C;&#x5E76;&#x9644;&#x52A0;&#x4E86;&#x65B0;&#x7684;&#x5C5E;&#x6027;total_display&#xFF0C;&#x7528;&#x4E8E;&#x8BB0;&#x5F55;&#x8C03;&#x7528;display&#x7684;&#x6B21;&#x6570;&#x3002;&#x6211;&#x4EEC;&#x4E5F;&#x540C;&#x65F6;&#x66F4;&#x6539;&#x4E86;display&#x65B9;&#x6CD5;&#x3002;</span></p>\r\n<p><span style=\"font-family: courier new,courier;\">&#x901A;&#x8FC7;&#x4FEE;&#x6539;&#xFF0C;&#x6211;&#x4EEC;&#x7684;Bird&#x7C7B;&#x53EF;&#x4EE5;&#x663E;&#x793A;&#x8C03;&#x7528;display&#x7684;&#x6B21;&#x6570;&#x4E86;&#x3002;</span></p>\r\n<p>&#xA0;</p>\r\n<h3><span style=\"font-family: courier new,courier;\">&#x603B;&#x7ED3;</span></h3>\r\n<p><span style=\"font-family: courier new,courier;\">&#x88C5;&#x9970;&#x5668;&#x7684;&#x6838;&#x5FC3;&#x4F5C;&#x7528;&#x662F;name binding&#x3002;&#x8FD9;&#x79CD;&#x8BED;&#x6CD5;&#x662F;Python&#x591A;&#x7F16;&#x7A0B;&#x8303;&#x5F0F;&#x7684;&#x53C8;&#x4E00;&#x4E2A;&#x4F53;&#x73B0;&#x3002;&#x5927;&#x90E8;&#x5206;Python&#x7528;&#x6237;&#x90FD;&#x4E0D;&#x600E;&#x4E48;&#x9700;&#x8981;&#x5B9A;&#x4E49;&#x88C5;&#x9970;&#x5668;&#xFF0C;&#x4F46;&#x6709;&#x53EF;&#x80FD;&#x4F1A;&#x4F7F;&#x7528;&#x88C5;&#x9970;&#x5668;&#x3002;&#x9274;&#x4E8E;&#x88C5;&#x9970;&#x5668;&#x5728;Python&#x9879;&#x76EE;&#x4E2D;&#x7684;&#x5E7F;&#x6CDB;&#x4F7F;&#x7528;&#xFF0C;&#x4E86;&#x89E3;&#x8FD9;&#x4E00;&#x8BED;&#x6CD5;&#x662F;&#x975E;&#x5E38;&#x6709;&#x76CA;&#x7684;&#x3002;</span></p>\r\n<p>&#xA0;</p>\r\n<p><span style=\"font-family: courier new,courier;\">&#x6B22;&#x8FCE;&#x7EE7;&#x7EED;&#x9605;&#x8BFB;&#x201C;<a href=\"http://www.cnblogs.com/vamei/archive/2012/09/13/2682778.html\">Python&#x5FEB;&#x901F;&#x6559;&#x7A0B;</a></span><span style=\"font-family: courier new,courier;\">&#x201D;<br></span></p>\r\n<p>&#xA0;</p>"}