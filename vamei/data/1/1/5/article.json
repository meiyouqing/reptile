{"content":"<p><span style=\"font-family: courier new,courier;\">&#x4F5C;&#x8005;&#xFF1A;Vamei &#x51FA;&#x5904;&#xFF1A;http://www.cnblogs.com/vamei &#x6B22;&#x8FCE;&#x8F6C;&#x8F7D;&#xFF0C;&#x4E5F;&#x8BF7;&#x4FDD;&#x7559;&#x8FD9;&#x6BB5;&#x58F0;&#x660E;&#x3002;&#x8C22;&#x8C22;&#xFF01;</span></p>\r\n<p><span style=\"font-family: courier new,courier;\">&#xA0;</span></p>\r\n<p><span style=\"font-family: courier new,courier;\">&#x8FD9;&#x4E00;&#x8BB2;&#x7684;&#x4E3B;&#x8981;&#x76EE;&#x7684;&#x662F;&#x4E3A;&#x4E86;&#x5927;&#x5BB6;&#x5728;&#x8BFB;Python&#x7A0B;&#x5E8F;&#x7684;&#x65F6;&#x5019;&#x5BF9;&#x5FAA;&#x73AF;&#x5BF9;&#x8C61;&#x6709;&#x4E00;&#x4E2A;&#x57FA;&#x672C;&#x6982;&#x5FF5;&#x3002;</span></p>\r\n<p><span style=\"font-family: courier new,courier;\">&#x5FAA;&#x73AF;&#x5BF9;&#x8C61;&#x7684;&#x5E76;&#x4E0D;&#x662F;&#x968F;&#x7740;Python&#x7684;&#x8BDE;&#x751F;&#x5C31;&#x5B58;&#x5728;&#x7684;&#xFF0C;&#x4F46;&#x5B83;&#x7684;&#x53D1;&#x5C55;&#x8FC5;&#x901F;&#xFF0C;&#x7279;&#x522B;&#x662F;Python 3x&#x7684;&#x65F6;&#x4EE3;&#xFF0C;&#x5FAA;&#x73AF;&#x5BF9;&#x8C61;&#x6B63;&#x5728;&#x6210;&#x4E3A;&#x5FAA;&#x73AF;&#x7684;&#x6807;&#x51C6;&#x5F62;&#x5F0F;&#x3002;</span></p>\r\n<p>&#xA0;</p>\r\n<h3><span style=\"font-family: courier new,courier;\">&#x4EC0;&#x4E48;&#x662F;&#x5FAA;&#x73AF;&#x5BF9;&#x8C61;</span></h3>\r\n<p><span style=\"font-family: courier new,courier;\">&#x5FAA;&#x73AF;&#x5BF9;&#x8C61;&#x662F;&#x8FD9;&#x6837;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#xFF0C;&#x5B83;&#x5305;&#x542B;&#x6709;&#x4E00;&#x4E2A;<span style=\"color: #ff0000;\">next()&#x65B9;&#x6CD5;</span>(__next__()&#x65B9;&#x6CD5;&#xFF0C;&#x5728;python 3x&#x4E2D;)&#xFF0C; &#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#x7684;&#x76EE;&#x7684;&#x662F;&#x8FDB;&#x884C;&#x5230;&#x4E0B;&#x4E00;&#x4E2A;&#x7ED3;&#x679C;&#xFF0C;&#x800C;&#x5728;&#x7ED3;&#x675F;&#x4E00;&#x7CFB;&#x5217;&#x7ED3;&#x679C;&#x4E4B;&#x540E;&#xFF0C;&#x4E3E;&#x51FA;<span style=\"color: #ff0000;\">StopIteration&#x9519;&#x8BEF;</span>&#x3002;</span></p>\r\n<p><span style=\"font-family: courier new,courier;\">&#x5F53;&#x4E00;&#x4E2A;&#x5FAA;&#x73AF;&#x7ED3;&#x6784;&#xFF08;&#x6BD4;&#x5982;for&#xFF09;&#x8C03;&#x7528;&#x5FAA;&#x73AF;&#x5BF9;&#x8C61;&#x65F6;&#xFF0C;&#x5B83;&#x5C31;&#x4F1A;&#x6BCF;&#x6B21;&#x5FAA;&#x73AF;&#x7684;&#x65F6;&#x5019;&#x8C03;&#x7528;next()&#x65B9;&#x6CD5;&#xFF0C;&#x76F4;&#x5230;StopIteration&#x51FA;&#x73B0;&#xFF0C;for&#x5FAA;&#x73AF;&#x63A5;&#x6536;&#x5230;&#xFF0C;&#x5C31;&#x77E5;&#x9053;&#x5FAA;&#x73AF;&#x5DF2;&#x7ECF;&#x7ED3;&#x675F;&#xFF0C;&#x505C;&#x6B62;&#x8C03;&#x7528;next()&#x3002;</span></p>\r\n<p><span style=\"font-family: courier new,courier;\">&#x5047;&#x8BBE;&#x6211;&#x4EEC;&#x6709;&#x4E00;&#x4E2A;test.txt&#x7684;&#x6587;&#x4EF6;:</span></p>\r\n<div class=\"cnblogs_code\">\r\n<pre><span style=\"font-family: courier new,courier;\">1234<span style=\"color: #000000;\">\r\nabcd\r\nefg</span></span></pre>\r\n</div>\r\n<p><span style=\"font-family: courier new,courier;\">&#x6211;&#x4EEC;&#x8FD0;&#x884C;&#x4E00;&#x4E0B;python&#x547D;&#x4EE4;&#x884C;&#xFF1A;</span></p>\r\n<p><span style=\"font-family: courier new,courier;\">&gt;&gt;&gt;f = open(&apos;test.txt&apos;)</span></p>\r\n<p><span style=\"font-family: courier new,courier;\">&gt;&gt;&gt;f.next()</span></p>\r\n<p><span style=\"font-family: courier new,courier;\">&gt;&gt;&gt;f.next()</span></p>\r\n<p><span style=\"font-family: courier new,courier;\">...</span></p>\r\n<p><br><span style=\"font-family: courier new,courier;\">&#x4E0D;&#x65AD;&#x8F93;&#x5165;f.next()&#xFF0C;&#x76F4;&#x5230;&#x6700;&#x540E;&#x51FA;&#x73B0;StopIteration</span></p>\r\n<p><span style=\"font-family: courier new,courier;\"><span style=\"color: #ff0000;\">open()&#x8FD4;&#x56DE;&#x7684;&#x5B9E;&#x9645;&#x4E0A;&#x662F;&#x4E00;&#x4E2A;&#x5FAA;&#x73AF;&#x5BF9;&#x8C61;</span>&#xFF0C;&#x5305;&#x542B;&#x6709;next()&#x65B9;&#x6CD5;&#x3002;&#x800C;&#x8BE5;next()&#x65B9;&#x6CD5;&#x6BCF;&#x6B21;&#x8FD4;&#x56DE;&#x7684;&#x5C31;&#x662F;&#x65B0;&#x7684;&#x4E00;&#x884C;&#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x5230;&#x8FBE;&#x6587;&#x4EF6;&#x7ED3;&#x5C3E;&#x65F6;&#x4E3E;&#x51FA;StopIteration&#x3002;&#x8FD9;&#x6837;&#xFF0C;&#x6211;&#x4EEC;&#x76F8;&#x5F53;&#x4E8E;&#x624B;&#x5DE5;&#x8FDB;&#x884C;&#x4E86;&#x5FAA;&#x73AF;&#x3002;</span></p>\r\n<p><span style=\"font-family: courier new,courier;\">&#x81EA;&#x52A8;&#x8FDB;&#x884C;&#x7684;&#x8BDD;&#xFF0C;&#x5C31;&#x662F;&#xFF1A;</span></p>\r\n<div class=\"cnblogs_code\">\r\n<pre><span style=\"font-family: courier new,courier;\"><span style=\"color: #0000ff;\">for</span> line <span style=\"color: #0000ff;\">in</span> open(<span style=\"color: #800000;\">&apos;</span><span style=\"color: #800000;\">test.txt</span><span style=\"color: #800000;\">&apos;</span><span style=\"color: #000000;\">):\r\n    </span><span style=\"color: #0000ff;\">print</span> line</span></pre>\r\n</div>\r\n<p><span style=\"font-family: courier new,courier;\">&#x5728;&#x8FD9;&#x91CC;&#xFF0C;for&#x7ED3;&#x6784;&#x81EA;&#x52A8;&#x8C03;&#x7528;next()&#x65B9;&#x6CD5;&#xFF0C;&#x5C06;&#x8BE5;&#x65B9;&#x6CD5;&#x7684;&#x8FD4;&#x56DE;&#x503C;&#x8D4B;&#x4E88;&#x7ED9;line&#x3002;&#x5FAA;&#x73AF;&#x77E5;&#x9053;&#x51FA;&#x73B0;StopIteration&#x7684;&#x65F6;&#x5019;&#x7ED3;&#x675F;&#x3002;</span></p>\r\n<p><span style=\"font-family: courier new,courier;\">&#xA0;</span></p>\r\n<p><span style=\"font-family: courier new,courier;\">&#x76F8;&#x5BF9;&#x4E8E;&#x5E8F;&#x5217;&#xFF0C;&#x7528;&#x5FAA;&#x73AF;&#x5BF9;&#x8C61;&#x7684;&#x597D;&#x5904;&#x5728;&#x4E8E;&#xFF1A;&#x4E0D;&#x7528;&#x5728;&#x5FAA;&#x73AF;&#x8FD8;&#x6CA1;&#x6709;&#x5F00;&#x59CB;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x5C31;&#x751F;&#x6210;&#x597D;&#x8981;&#x4F7F;&#x7528;&#x7684;&#x5143;&#x7D20;&#x3002;&#x6240;&#x4F7F;&#x7528;&#x7684;&#x5143;&#x7D20;&#x53EF;&#x4EE5;&#x5728;&#x5FAA;&#x73AF;&#x8FC7;&#x7A0B;&#x4E2D;&#x9010;&#x6B21;&#x751F;&#x6210;&#x3002;&#x8FD9;&#x6837;&#xFF0C;&#x8282;&#x7701;&#x4E86;&#x7A7A;&#x95F4;&#xFF0C;&#x63D0;&#x9AD8;&#x4E86;&#x6548;&#x7387;&#xFF0C;&#x7F16;&#x7A0B;&#x66F4;&#x7075;&#x6D3B;&#x3002;</span></p>\r\n<p><span style=\"font-family: courier new,courier;\">&#xA0;</span></p>\r\n<h3><span style=\"font-family: courier new,courier;\">&#x8FED;&#x4EE3;&#x5668;</span></h3>\r\n<p><span style=\"font-family: courier new,courier;\">&#x4ECE;&#x6280;&#x672F;&#x4E0A;&#x6765;&#x8BF4;&#xFF0C;&#x5FAA;&#x73AF;&#x5BF9;&#x8C61;&#x548C;for&#x5FAA;&#x73AF;&#x8C03;&#x7528;&#x4E4B;&#x95F4;&#x8FD8;&#x6709;&#x4E00;&#x4E2A;&#x4E2D;&#x95F4;&#x5C42;&#xFF0C;&#x5C31;&#x662F;&#x8981;&#x5C06;&#x5FAA;&#x73AF;&#x5BF9;&#x8C61;&#x8F6C;&#x6362;&#x6210;&#x8FED;&#x4EE3;&#x5668;(iterator)&#x3002;&#x8FD9;&#x4E00;&#x8F6C;&#x6362;&#x662F;&#x901A;&#x8FC7;&#x4F7F;&#x7528;<span style=\"color: #800000;\">iter()</span>&#x51FD;&#x6570;&#x5B9E;&#x73B0;&#x7684;&#x3002;&#x4F46;&#x4ECE;&#x903B;&#x8F91;&#x5C42;&#x9762;&#x4E0A;&#xFF0C;&#x5E38;&#x5E38;&#x53EF;&#x4EE5;&#x5FFD;&#x7565;&#x8FD9;&#x4E00;&#x5C42;&#xFF0C;&#x6240;&#x4EE5;&#x5FAA;&#x73AF;&#x5BF9;&#x8C61;&#x548C;&#x8FED;&#x4EE3;&#x5668;&#x5E38;&#x5E38;&#x76F8;&#x4E92;&#x6307;&#x4EE3;&#x5BF9;&#x65B9;&#x3002;</span></p>\r\n<p><span style=\"font-family: courier new,courier;\">&#xA0;</span></p>\r\n<h3><span style=\"font-family: courier new,courier;\">&#x751F;&#x6210;&#x5668;</span></h3>\r\n<p><span style=\"font-family: courier new,courier;\">&#x751F;&#x6210;&#x5668;<span>(generator)</span>&#x7684;&#x4E3B;&#x8981;&#x76EE;&#x7684;&#x662F;&#x6784;&#x6210;&#x4E00;&#x4E2A;&#x7528;&#x6237;&#x81EA;&#x5B9A;&#x4E49;&#x7684;&#x5FAA;&#x73AF;&#x5BF9;&#x8C61;&#x3002;</span></p>\r\n<p><span style=\"font-family: courier new,courier;\">&#x751F;&#x6210;&#x5668;&#x7684;&#x7F16;&#x5199;&#x65B9;&#x6CD5;&#x548C;&#x51FD;&#x6570;&#x5B9A;&#x4E49;&#x7C7B;&#x4F3C;&#xFF0C;&#x53EA;&#x662F;&#x5728;<span style=\"color: #ff0000;\"><span style=\"color: #000000;\">return&#x7684;&#x5730;&#x65B9;</span>&#x6539;&#x4E3A;yield</span>&#x3002;&#x751F;&#x6210;&#x5668;&#x4E2D;&#x53EF;&#x4EE5;&#x6709;&#x591A;&#x4E2A;yield&#x3002;&#x5F53;&#x751F;&#x6210;&#x5668;&#x9047;&#x5230;&#x4E00;&#x4E2A;yield&#x65F6;&#xFF0C;&#x4F1A;&#x6682;&#x505C;&#x8FD0;&#x884C;&#x751F;&#x6210;&#x5668;&#xFF0C;&#x8FD4;&#x56DE;yield&#x540E;&#x9762;&#x7684;&#x503C;&#x3002;&#x5F53;&#x518D;&#x6B21;&#x8C03;&#x7528;&#x751F;&#x6210;&#x5668;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x4F1A;&#x4ECE;&#x521A;&#x624D;&#x6682;&#x505C;&#x7684;&#x5730;&#x65B9;&#x7EE7;&#x7EED;&#x8FD0;&#x884C;&#xFF0C;&#x76F4;&#x5230;&#x4E0B;&#x4E00;&#x4E2A;yield&#x3002;<span style=\"color: #ff0000;\">&#x751F;&#x6210;&#x5668;&#x81EA;&#x8EAB;&#x53C8;&#x6784;&#x6210;&#x4E00;&#x4E2A;&#x5FAA;&#x73AF;&#x5668;</span>&#xFF0C;&#x6BCF;&#x6B21;&#x5FAA;&#x73AF;&#x4F7F;&#x7528;&#x4E00;&#x4E2A;yield&#x8FD4;&#x56DE;&#x7684;&#x503C;&#x3002;</span></p>\r\n<p>&#xA0;</p>\r\n<p><span style=\"font-family: courier new,courier;\">&#x4E0B;&#x9762;&#x662F;&#x4E00;&#x4E2A;&#x751F;&#x6210;&#x5668;:</span></p>\r\n<div class=\"cnblogs_code\">\r\n<pre><span style=\"font-family: courier new,courier;\"><span style=\"color: #0000ff;\">def</span><span style=\"color: #000000;\"> gen():\r\n    a </span>= 100\r\n    <span style=\"color: #0000ff;\">yield</span><span style=\"color: #000000;\"> a\r\n    a </span>= a*8\r\n    <span style=\"color: #0000ff;\">yield</span><span style=\"color: #000000;\"> a\r\n    </span><span style=\"color: #0000ff;\">yield</span> 1000</span></pre>\r\n</div>\r\n<p><span style=\"font-family: courier new,courier;\">&#x8BE5;&#x751F;&#x6210;&#x5668;&#x5171;&#x6709;&#x4E09;&#x4E2A;yield&#xFF0C; &#x5982;&#x679C;&#x7528;&#x4F5C;&#x5FAA;&#x73AF;&#x5668;&#x65F6;&#xFF0C;&#x4F1A;&#x8FDB;&#x884C;&#x4E09;&#x6B21;&#x5FAA;&#x73AF;&#x3002;</span></p>\r\n<div class=\"cnblogs_code\">\r\n<pre><span style=\"font-family: courier new,courier;\"><span style=\"color: #0000ff;\">for</span> i <span style=\"color: #0000ff;\">in</span><span style=\"color: #000000;\"> gen():\r\n    </span><span style=\"color: #0000ff;\">print</span> i</span></pre>\r\n</div>\r\n<p><span style=\"font-family: courier new,courier;\">&#xA0;</span></p>\r\n<p><span style=\"font-family: courier new,courier;\">&#x518D;&#x8003;&#x8651;&#x5982;&#x4E0B;&#x4E00;&#x4E2A;&#x751F;&#x6210;&#x5668;:</span></p>\r\n<div class=\"cnblogs_code\">\r\n<pre><span style=\"font-family: courier new,courier;\"><span style=\"color: #0000ff;\">def</span><span style=\"color: #000000;\"> gen():\r\n    </span><span style=\"color: #0000ff;\">for</span> i <span style=\"color: #0000ff;\">in</span> range(4<span style=\"color: #000000;\">):\r\n        </span><span style=\"color: #0000ff;\">yield</span> i</span></pre>\r\n</div>\r\n<p><span style=\"font-family: courier new,courier;\">&#x5B83;&#x53C8;&#x53EF;&#x4EE5;&#x5199;&#x6210;<span style=\"color: #ff0000;\">&#x751F;&#x6210;&#x5668;&#x8868;&#x8FBE;&#x5F0F;(Generator Expression)</span>:</span></p>\r\n<div class=\"cnblogs_code\">\r\n<pre><span style=\"font-family: courier new,courier;\">G = (x <span style=\"color: #0000ff;\">for</span> x <span style=\"color: #0000ff;\">in</span> range(4))</span></pre>\r\n</div>\r\n<p><span style=\"font-family: courier new,courier;\">&#x751F;&#x6210;&#x5668;&#x8868;&#x8FBE;&#x5F0F;&#x662F;&#x751F;&#x6210;&#x5668;&#x7684;&#x4E00;&#x79CD;&#x7B80;&#x4FBF;&#x7684;&#x7F16;&#x5199;&#x65B9;&#x5F0F;&#x3002;&#x8BFB;&#x8005;&#x53EF;&#x8FDB;&#x4E00;&#x6B65;&#x67E5;&#x9605;&#x3002;</span></p>\r\n<p><span style=\"font-family: courier new,courier;\">&#xA0;</span></p>\r\n<h3><span style=\"font-family: courier new,courier;\">&#x8868;&#x63A8;&#x5BFC;</span></h3>\r\n<p><span style=\"font-family: courier new,courier;\">&#x8868;&#x63A8;&#x5BFC;<span>(list comprehension)</span>&#x662F;&#x5FEB;&#x901F;&#x751F;&#x6210;&#x8868;&#x7684;&#x65B9;&#x6CD5;&#x3002;&#x5B83;&#x7684;&#x8BED;&#x6CD5;&#x7B80;&#x5355;&#xFF0C;&#x5F88;&#x6709;&#x5B9E;&#x7528;&#x4EF7;&#x503C;&#x3002;</span></p>\r\n<p>&#xA0;</p>\r\n<p><span style=\"font-family: courier new,courier;\">&#x5047;&#x8BBE;&#x6211;&#x4EEC;&#x751F;&#x6210;&#x8868;L&#xFF1A;</span></p>\r\n<div class=\"cnblogs_code\">\r\n<pre><span style=\"font-family: courier new,courier;\">L =<span style=\"color: #000000;\"> []\r\n</span><span style=\"color: #0000ff;\">for</span> x <span style=\"color: #0000ff;\">in</span> range(10<span style=\"color: #000000;\">):\r\n    L.append(x</span>**2)</span></pre>\r\n</div>\r\n<p><span style=\"font-family: courier new,courier;\">&#x4EE5;&#x4E0A;&#x4EA7;&#x751F;&#x4E86;&#x8868;L&#xFF0C;&#x4F46;&#x5B9E;&#x9645;&#x4E0A;&#x6709;&#x5FEB;&#x6377;&#x7684;&#x5199;&#x6CD5;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;<span style=\"color: #ff0000;\">&#x8868;&#x63A8;&#x5BFC;</span>&#x7684;&#x65B9;&#x5F0F;:</span></p>\r\n<div class=\"cnblogs_code\">\r\n<pre><span style=\"font-family: courier new,courier;\">L = [x**2 <span style=\"color: #0000ff;\">for</span> x <span style=\"color: #0000ff;\">in</span> range(10)]</span></pre>\r\n</div>\r\n<p><span style=\"font-family: courier new,courier;\">&#x8FD9;&#x4E0E;&#x751F;&#x6210;&#x5668;&#x8868;&#x8FBE;&#x5F0F;&#x7C7B;&#x4F3C;&#xFF0C;&#x53EA;&#x4E0D;&#x8FC7;&#x7528;&#x7684;&#x662F;<span style=\"color: #ff0000;\">&#x4E2D;&#x62EC;&#x53F7;</span>&#x3002;</span></p>\r\n<p><span style=\"font-family: courier new,courier;\">&#xFF08;&#x8868;&#x63A8;&#x5BFC;&#x7684;&#x673A;&#x5236;&#x5B9E;&#x9645;&#x4E0A;&#x662F;&#x5229;&#x7528;&#x5FAA;&#x73AF;&#x5BF9;&#x8C61;&#xFF0C;&#x6709;&#x5174;&#x8DA3;&#x53EF;&#x4EE5;&#x67E5;&#x9605;&#x3002;&#xFF09;</span></p>\r\n<p>&#xA0;</p>\r\n<p><span style=\"font-family: courier new,courier;\"><span style=\"color: #800000;\">&#x7EC3;&#x4E60;</span>&#xA0;&#x4E0B;&#x9762;&#x7684;&#x8868;&#x63A8;&#x5BFC;&#x4F1A;&#x751F;&#x6210;&#x4EC0;&#x4E48;&#xFF1F;</span></p>\r\n<div class=\"cnblogs_code\">\r\n<pre><span style=\"font-family: courier new,courier;\">xl = [1,3,5<span style=\"color: #000000;\">]\r\nyl </span>= [9,12,13<span style=\"color: #000000;\">]\r\nL  </span>= [ x**2 <span style=\"color: #0000ff;\">for</span> (x,y) <span style=\"color: #0000ff;\">in</span> zip(xl,yl) <span style=\"color: #0000ff;\">if</span> y &gt; 10]</span></pre>\r\n</div>\r\n<p><span style=\"font-family: courier new,courier;\">&#xA0;</span></p>\r\n<h3><span style=\"font-family: courier new,courier;\">&#x603B;&#x7ED3;</span></h3>\r\n<p><span style=\"font-family: courier new,courier;\">&#x5FAA;&#x73AF;&#x5BF9;&#x8C61;</span></p>\r\n<p><span style=\"font-family: courier new,courier;\">&#x751F;&#x6210;&#x5668;</span></p>\r\n<p><span style=\"font-family: courier new,courier;\">&#x8868;&#x63A8;&#x5BFC;</span></p>\r\n<p><span style=\"font-family: courier new,courier;\">&#xA0;</span></p>"}