{"content":"<p><span style=\"font-family: &apos;courier new&apos;, courier;\"><span>&#x4F5C;&#x8005;&#xFF1A;Vamei &#x51FA;&#x5904;&#xFF1A;http://www.cnblogs.com/vamei &#x6B22;&#x8FCE;&#x8F6C;&#x8F7D;&#xFF0C;&#x4E5F;&#x8BF7;&#x4FDD;&#x7559;&#x8FD9;&#x6BB5;&#x58F0;&#x660E;&#x3002;&#x8C22;&#x8C22;&#xFF01;</span></span></p>\r\n<p>&#xA0;</p>\r\n<p><span style=\"font-family: &apos;courier new&apos;, courier;\">&#x4E0B;&#x9762;&#x662F;&#x4E00;&#x4E9B;Mac OSX&#x4E0B;&#x5E38;&#x7528;&#x7684;&#x7F51;&#x7EDC;&#x8BCA;&#x65AD;&#x547D;&#x4EE4;&#x3002;&#x5B83;&#x4EEC;&#x80FD;&#x5E2E;&#x52A9;&#x6211;&#x4EEC;&#x53D1;&#x73B0;&#x7F51;&#x7EDC;&#x95EE;&#x9898;&#x3002;&#x6587;&#x4E2D;&#x63D0;&#x5230;&#x7684;&#x534F;&#x8BAE;&#x548C;&#x7F51;&#x7EDC;&#x901A;&#x4FE1;&#x539F;&#x7406;&#xFF0C;&#x53EF;&#x53C2;&#x8003;</span><a id=\"ctl02_CatList_LinkList_1_Link_4\" href=\"http://www.cnblogs.com/vamei/archive/2012/12/05/2802811.html\">&#x534F;&#x8BAE;&#x68EE;&#x6797;</a><span style=\"font-family: &apos;courier new&apos;, courier;\">&#x3002;</span></p>\r\n<p><span style=\"font-family: &apos;courier new&apos;, courier;\">&#x6709;&#x4E9B;&#x5DE5;&#x5177;&#xFF0C;&#x5982;arping, arp-scan&#xFF0C;&#x9700;&#x8981;&#x501F;&#x52A9;HomeBrew&#x5B89;&#x88C5;&#x3002;</span></p>\r\n<p>&#xA0;</p>\r\n<h3><span style=\"font-family: &apos;courier new&apos;, courier;\">&#x57FA;&#x672C;&#x5DE5;&#x5177;</span></h3>\r\n<p><span style=\"font-family: &apos;courier new&apos;, courier;\">&#x7F51;&#x7EDC;&#x8BCA;&#x65AD;&#x7684;&#x7B2C;&#x4E00;&#x6B65;&#xFF0C;&#x662F;&#x4E86;&#x89E3;&#x81EA;&#x5DF1;&#x7684;&#x8BBE;&#x5907;&#xFF0C;&#x6BD4;&#x5982;&#x6709;&#x54EA;&#x4E9B;&#x63A5;&#x53E3;&#xFF0C;IP&#x5730;&#x5740;&#x90FD;&#x662F;&#x4EC0;&#x4E48;&#x3002;</span></p>\r\n<p><span style=\"font-family: &apos;courier new&apos;, courier; color: #800000;\">ifconfig</span></p>\r\n<p><span style=\"font-family: &apos;courier new&apos;, courier;\">&#x663E;&#x793A;&#x7F51;&#x7EDC;&#x63A5;&#x53E3;(interface)&#x4FE1;&#x606F;&#x3002;&#x5982;&#x63A5;&#x53E3;&#x540D;&#x79F0;&#xFF0C;&#x63A5;&#x53E3;&#x7C7B;&#x578B;&#xFF0C;&#x63A5;&#x53E3;&#x7684;IP&#x5730;&#x5740;&#xFF0C;&#x786C;&#x4EF6;&#x7684;MAC&#x5730;&#x5740;&#x7B49;&#x3002;</span></p>\r\n<p>&#xA0;</p>\r\n<h3><span style=\"font-family: &apos;courier new&apos;, courier;\">ARP</span></h3>\r\n<p><span style=\"font-family: &apos;courier new&apos;, courier;\">ARP&#x534F;&#x8BAE;&#x7528;&#x5728;&#x5C40;&#x57DF;&#x7F51;(LAN)&#x5185;&#x90E8;&#x3002;&#x501F;&#x7528;ARP&#x534F;&#x8BAE;&#xFF0C;&#x8BBE;&#x5907;&#x53EF;&#x4EE5;&#x77E5;&#x9053;&#x540C;&#x4E00;&#x5C40;&#x57DF;&#x7F51;&#x5185;&#x7684;IP-MAC&#x5BF9;&#x5E94;&#x5173;&#x7CFB;&#x3002;&#x5F53;&#x6211;&#x4EEC;&#x8BBF;&#x95EE;&#x4E00;&#x4E2A;&#x672C;&#x5730;IP&#x5730;&#x5740;&#x65F6;&#xFF0C;&#x8BBE;&#x5907;&#x6839;&#x636E;&#x8BE5;&#x5BF9;&#x5E94;&#x5173;&#x7CFB;&#xFF0C;&#x4E0E;&#x5BF9;&#x5E94;&#x7684;MAC&#x5730;&#x5740;&#x901A;&#x4FE1;&#x3002;&#x901A;&#x8FC7;ARP&#x5DE5;&#x5177;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x77E5;&#x9053;&#x5C40;&#x57DF;&#x7F51;&#x5185;&#x7684;&#x901A;&#x4FE1;&#x662F;&#x5426;&#x6B63;&#x5E38;&#x3002;</span></p>\r\n<p><span style=\"font-family: &apos;courier new&apos;, courier; color: #800000;\">arp -a</span></p>\r\n<p><span style=\"font-family: &apos;courier new&apos;, courier;\">&#x663E;&#x793A;&#x672C;&#x5730;&#x5B58;&#x50A8;&#x7684;IP-MAC&#x5BF9;&#x5E94;&#x5173;&#x7CFB;</span></p>\r\n<p>&#xA0;</p>\r\n<p class=\"p1\"><span style=\"font-family: &apos;courier new&apos;, courier; color: #800000;\">sudo arping -I eth0 192.168.1.1</span></p>\r\n<p class=\"p1\"><span style=\"font-family: &apos;courier new&apos;, courier;\">&#x7ECF;eth0&#x63A5;&#x53E3;&#xFF0C;&#x53D1;&#x9001;ARP&#x8BF7;&#x6C42;&#xFF0C;&#x67E5;&#x8BE2;IP&#x4E3A;192.168.1.1&#x8BBE;&#x5907;&#x7684;MAC&#x5730;&#x5740;</span></p>\r\n<p class=\"p1\">&#xA0;</p>\r\n<p><span style=\"font-family: &apos;courier new&apos;, courier; color: #800000;\">sudo arp-scan -l</span></p>\r\n<p><span style=\"font-family: &apos;courier new&apos;, courier;\">&#x67E5;&#x8BE2;&#x6574;&#x4E2A;&#x5C40;&#x57DF;&#x7F51;&#x5185;&#x7684;&#x6240;&#x6709;IP&#x5730;&#x5740;&#x7684;&#x5BF9;&#x5E94;MAC&#x5730;&#x5740;</span></p>\r\n<p>&#xA0;</p>\r\n<p><span style=\"font-family: &apos;courier new&apos;, courier; color: #800000;\">sudo tcpdump -i en0 arp</span></p>\r\n<p><span style=\"font-family: &apos;courier new&apos;, courier;\">&#x76D1;&#x542C;en0&#x63A5;&#x53E3;&#x7684;arp&#x534F;&#x8BAE;&#x901A;&#x4FE1;</span></p>\r\n<p>&#xA0;</p>\r\n<h3><span style=\"font-family: &apos;courier new&apos;, courier;\">&#x7F51;&#x7EDC;&#x5C42;</span></h3>\r\n<p><span style=\"font-family: &apos;courier new&apos;, courier;\">&#x7F51;&#x7EDC;&#x5C42;&#x662F;&#x4E00;&#x4E2A;&#x5E7F;&#x57DF;&#x7684;&#x4E92;&#x8054;&#x7F51;&#xFF0C;&#x4E92;&#x8054;&#x7F51;&#x4E0A;&#x7684;&#x8BBE;&#x5907;&#x7528;IP&#x5730;&#x5740;&#x8BC6;&#x522B;&#x3002;ping&#x662F;&#x5411;&#x67D0;&#x4E2A;IP&#x5730;&#x5740;&#x53D1;&#x9001;ICMP&#x534F;&#x8BAE;&#x7684;ECHO_REQUEST&#x8BF7;&#x6C42;&#x3002;&#x6536;&#x5230;&#x8BE5;&#x8BF7;&#x6C42;&#x7684;&#x8BBE;&#x5907;&#xFF0C;&#x5C06;&#x8FD4;&#x56DE;ICMP&#x56DE;&#x590D;&#x3002;&#x5982;&#x679C;ping&#x5230;&#x67D0;&#x4E2A;IP&#x5730;&#x5740;&#xFF0C;&#x90A3;&#x4E48;&#x8BF4;&#x660E;&#x8BE5;IP&#x5730;&#x5740;&#x7684;&#x8BBE;&#x5907;&#x53EF;&#x4EE5;&#x7ECF;&#x7F51;&#x7EDC;&#x5C42;&#x987A;&#x5229;&#x5230;&#x8FBE;&#x3002;</span></p>\r\n<p><span style=\"font-family: &apos;courier new&apos;, courier; color: #800000;\">ping 192.168.1.1</span></p>\r\n<p><span style=\"font-family: &apos;courier new&apos;, courier;\">&#x5411;IP&#x5730;&#x5740;192.168.1.255&#x53D1;&#x9001;ICMP&#x8BF7;&#x6C42;&#x3002;&#x5982;&#x679C;&#x8BE5;&#x5730;&#x5740;&#x7684;ICMP&#x6CA1;&#x6709;&#x88AB;&#x7981;&#x7528;&#xFF0C;&#x90A3;&#x4E48;&#x5728;&#x8BE5;&#x7F51;&#x4E0A;&#x7684;&#x8BBE;&#x5907;&#x5C06;&#x56DE;&#x590D;&#x3002;</span></p>\r\n<p><span style=\"font-family: &apos;courier new&apos;, courier;\">&#xA0; <span style=\"color: #800000;\">ping 192.168.1.255</span></span></p>\r\n<p><span style=\"font-family: &apos;courier new&apos;, courier;\">&#xA0; &#x5411;&#x5E7F;&#x64AD;(broadcast)&#x5730;&#x5740;192.168.1.255&#x53D1;&#x9001;ICMP&#x8BF7;&#x6C42;&#x3002;&#x5982;&#x679C;ICMP&#x6CA1;&#x6709;&#x88AB;&#x7981;&#x7528;&#xFF0C;&#x90A3;&#x4E48;&#x5728;&#x8BE5;&#x7F51;&#x4E0A;&#x7684;&#x8BBE;&#x5907;&#x5C06;&#x56DE;&#x590D;&#x3002;</span></p>\r\n<p><span style=\"font-family: &apos;courier new&apos;, courier;\">&#x9700;&#x8981;&#x6CE8;&#x610F;&#x7684;&#x662F;&#xFF0C;&#x8BB8;&#x591A;&#x8BBE;&#x5907;&#x4F1A;&#x7981;&#x7528;ICMP&#x3002;&#x5982;&#x679C;ping&#x4E0D;&#x5230;&#x4E00;&#x4E2A;&#x8BBE;&#x5907;&#xFF0C;&#x5E76;&#x4E0D;&#x4E00;&#x5B9A;&#x662F;&#x7F51;&#x7EDC;&#x5C42;&#x6545;&#x969C;&#x3002;</span></p>\r\n<p>&#xA0;</p>\r\n<p><span style=\"font-family: &apos;courier new&apos;, courier;\">&#x5982;&#x679C;&#x4E24;&#x4E2A;&#x8BBE;&#x5907;&#x6709;&#x76F8;&#x540C;&#x7684;IP&#x5730;&#x5740;&#xFF0C;&#x5C06;&#x5BFC;&#x81F4;IP&#x51B2;&#x7A81;&#x3002;&#x8BB8;&#x591A;&#x7F51;&#x7EDC;&#x4E2D;&#x662F;&#x7531;DHCP&#x534F;&#x8BAE;&#x81EA;&#x52A8;&#x5206;&#x914D;IP&#x5730;&#x5740;&#x7684;&#xFF0C;&#x8FD9;&#x6837;&#x53EF;&#x4EE5;&#x6781;&#x5927;&#x7684;&#x51CF;&#x5C11;IP&#x51B2;&#x7A81;&#x7684;&#x53EF;&#x80FD;&#x6027;&#x3002;DHCP&#x670D;&#x52A1;&#x5668;&#x4E0E;&#x8BBE;&#x5907;&#x8FBE;&#x6210;&#x534F;&#x8BAE;&#xFF0C;&#x8BBE;&#x5907;&#x5C06;&#x5728;&#x4E00;&#x5B9A;&#x65F6;&#x95F4;&#x5185;&#x5360;&#x636E;&#x67D0;&#x4E2A;IP&#x5730;&#x5740;&#xFF0C;&#x800C;DHCP&#x670D;&#x52A1;&#x5668;&#x4E0D;&#x518D;&#x628A;&#x8BE5;IP&#x5730;&#x5740;&#x5206;&#x914D;&#x7ED9;&#x522B;&#x4EBA;&#x3002;</span></p>\r\n<p><span style=\"font-family: &apos;courier new&apos;, courier; color: #800000;\">sudo ipconfig set en0 DHCP</span></p>\r\n<p><span style=\"font-family: &apos;courier new&apos;, courier;\">&#x66F4;&#x65B0;DHCP&#x79DF;&#x7EA6;&#x3002;&#x8BBE;&#x5907;&#x5C06;&#x91CA;&#x653E;IP&#x5730;&#x5740;&#xFF0C;&#x518D;&#x4ECE;DHCP&#x670D;&#x52A1;&#x5668;&#x91CD;&#x65B0;&#x83B7;&#x5F97;IP&#x5730;&#x5740;&#x3002;</span></p>\r\n<p><span style=\"font-family: &apos;courier new&apos;, courier; color: #800000;\">sudo ipconfig set en0 INFORM 192.168.0.120</span></p>\r\n<p><span style=\"font-family: &apos;courier new&apos;, courier;\">&#x5C06;&#x63A5;&#x53E3;en0&#x8BBE;&#x5B9A;&#x4E3A;&#x9759;&#x6001;IP&#x5730;&#x5740;&#x3002;</span></p>\r\n<p>&#xA0;</p>\r\n<h3><span style=\"font-family: &apos;courier new&apos;, courier;\">&#x8DEF;&#x7531;</span></h3>\r\n<p><span style=\"font-family: &apos;courier new&apos;, courier;\"><span>&#x5C40;&#x57DF;&#x7F51;&#x901A;&#x8FC7;&#x8DEF;&#x7531;&#x5668;&#xFF0C;&#x63A5;&#x5165;&#x5E7F;&#x57DF;&#x7684;&#x4E92;&#x8054;&#x7F51;&#x3002;&#x4E92;&#x8054;&#x7F51;&#x4E0A;&#x7684;&#x901A;&#x4FE1;&#x5F80;&#x5F80;&#x8981;&#x7ECF;&#x8FC7;&#x591A;&#x4E2A;&#x8DEF;&#x7531;&#x5668;&#x63A5;&#x529B;&#x3002;&#x9014;&#x4E2D;&#x8DEF;&#x7531;&#x5668;&#x7684;&#x6545;&#x969C;&#xFF0C;&#x53EF;&#x80FD;&#x5BFC;&#x81F4;&#x4E92;&#x8054;&#x7F51;&#x8BBF;&#x95EE;&#x5F02;&#x5E38;&#x3002;</span></span></p>\r\n<p class=\"p1\"><span style=\"font-family: &apos;courier new&apos;, courier; color: #800000;\">netstat -nr</span></p>\r\n<p><span style=\"font-family: &apos;courier new&apos;, courier;\">&#x663E;&#x793A;&#x8DEF;&#x7531;&#x8868;&#x3002;&#x4ECE;&#x8DEF;&#x7531;&#x8868;&#x4E2D;&#xFF0C;&#x53EF;&#x4EE5;&#x627E;&#x5230;&#x7F51;&#x5173;(Gateway)&#x3002;&#x7F51;&#x5173;&#x662F;&#x901A;&#x5411;&#x66F4;&#x52A0;&#x5E7F;&#x57DF;&#x7F51;&#x7EDC;&#x7684;&#x51FA;&#x53E3;&#x3002;</span></p>\r\n<p>&#xA0;</p>\r\n<p><span style=\"font-family: &apos;courier new&apos;, courier; color: #800000;\">traceroute&#xA0;74.125.128.99</span></p>\r\n<p><span style=\"font-family: &apos;courier new&apos;, courier;\">&#x8FFD;&#x8E2A;&#x5230;&#x8FBE;IP&#x76EE;&#x7684;&#x5730;&#x7684;&#x5168;&#x7A0B;&#x8DEF;&#x7531;&#x3002;</span></p>\r\n<p><span style=\"font-family: &apos;courier new&apos;, courier;\">&#xA0; <span style=\"color: #800000;\">traceroute -I&#xA0;74.125.128.99</span></span></p>\r\n<p><span style=\"font-family: &apos;courier new&apos;, courier;\">&#xA0; &#x901A;&#x8FC7;ICMP&#x534F;&#x8BAE;&#xFF0C;&#x8FFD;&#x8E2A;&#x8DEF;&#x7531;&#x3002;ICMP&#x534F;&#x8BAE;&#x7ECF;&#x5E38;&#x4F1A;&#x88AB;&#x7981;&#x7528;&#xFF0C;&#x6240;&#x4EE5;&#x4F1A;&#x8FD4;&#x56DE;&quot;*&quot;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x3002;</span></p>\r\n<p><span style=\"font-family: &apos;courier new&apos;, courier;\">&#xA0; <span style=\"color: #800000;\">sudo traceroute -T -p 80&#xA0;74.125.128.99</span></span></p>\r\n<p><span style=\"font-family: &apos;courier new&apos;, courier;\">&#xA0; &#x901A;&#x8FC7;TCP&#x534F;&#x8BAE;&#xFF0C;&#x7ECF;80&#x7AEF;&#x53E3;&#xFF0C;&#x8FFD;&#x8E2A;&#x8DEF;&#x7531;&#x3002;TCP&#x534F;&#x8BAE;&#x7684;&#x9ED8;&#x8BA4;&#x7AEF;&#x53E3;80&#x5F88;&#x5C11;&#x4F1A;&#x88AB;&#x7981;&#x7528;&#x3002;</span></p>\r\n<p>&#xA0;</p>\r\n<h3><span style=\"font-family: &apos;courier new&apos;, courier;\">&#x7F51;&#x7EDC;&#x76D1;&#x542C;</span></h3>\r\n<p><span style=\"font-family: &apos;courier new&apos;, courier;\">tcpdump&#x662F;&#x4E00;&#x6B3E;&#x7F51;&#x7EDC;&#x6293;&#x5305;&#x5DE5;&#x5177;&#x3002;&#x5B83;&#x53EF;&#x4EE5;&#x76D1;&#x542C;&#x7F51;&#x7EDC;&#x63A5;&#x53E3;&#x4E0D;&#x540C;&#x5C42;&#x7684;&#x901A;&#x4FE1;&#xFF0C;&#x5E76;&#x8FC7;&#x6EE4;&#x51FA;&#x7279;&#x5B9A;&#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x6BD4;&#x5982;&#x7279;&#x5B9A;&#x534F;&#x8BAE;&#x3001;&#x7279;&#x5B9A;&#x7AEF;&#x53E3;&#x7B49;&#x7B49;&#x3002;&#x6211;&#x4EEC;&#x4E0A;&#x9762;&#x5DF2;&#x7ECF;&#x4F7F;&#x7528;tcpdump&#x76D1;&#x542C;&#x4E86;ARP&#x534F;&#x8BAE;&#x901A;&#x4FE1;&#x3002;&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x6765;&#x770B;&#x66F4;&#x591A;&#x7684;&#x76D1;&#x542C;&#x65B9;&#x5F0F;&#x3002;</span></p>\r\n<p><span style=\"font-family: &apos;courier new&apos;, courier; color: #800000;\">sudo tcpdump -i en0</span></p>\r\n<p><span style=\"font-family: &apos;courier new&apos;, courier;\">&#x76D1;&#x542C;en0&#x63A5;&#x53E3;&#x7684;&#x6240;&#x6709;&#x901A;&#x4FE1;</span></p>\r\n<p><span style=\"font-family: &apos;courier new&apos;, courier; color: #800000;\">&#xA0; sudo tcpdump -A -i en0&#xA0;</span></p>\r\n<p><span style=\"font-family: &apos;courier new&apos;, courier;\">&#xA0; &#x7528;ASCII&#x663E;&#x793A;en0&#x63A5;&#x53E3;&#x7684;&#x901A;&#x4FE1;&#x5185;&#x5BB9;</span></p>\r\n<p><span style=\"font-family: &apos;courier new&apos;, courier; color: #800000;\">&#xA0; sudo tcpdump -i en0 &apos;port 8080&apos;</span></p>\r\n<p><span style=\"font-family: &apos;courier new&apos;, courier;\">&#xA0; &#x663E;&#x793A;en0&#x63A5;&#x53E3;&#x7684;8080&#x7AEF;&#x53E3;&#x7684;&#x901A;&#x4FE1;</span></p>\r\n<p><span style=\"font-family: &apos;courier new&apos;, courier; color: #800000;\">&#xA0; sudo tcpdump -i eth1 src 192.168.1.200</span></p>\r\n<p><span style=\"font-family: &apos;courier new&apos;, courier;\">&#xA0; &#x663E;&#x793A;eth1&#x63A5;&#x53E3;&#xFF0C;&#x6765;&#x81EA;192.168.1.200&#x7684;&#x901A;&#x4FE1;</span></p>\r\n<p><span style=\"font-family: &apos;courier new&apos;, courier;\">&#xA0; <span style=\"color: #800000;\">sudo tcpdump -i eth1 dst 192.168.1.101 and port 80</span></span></p>\r\n<p><span style=\"font-family: &apos;courier new&apos;, courier;\">&#xA0; &#x663E;&#x793A;eth1&#x63A5;&#x53E3;80&#x7AEF;&#x53E3;&#xFF0C;&#x76EE;&#x7684;&#x5730;&#x4E3A;192.168.1.101&#x7684;&#x901A;&#x4FE1;</span></p>\r\n<p><span style=\"font-family: &apos;courier new&apos;, courier;\">&#xA0; <span style=\"color: #800000;\">sudo tcpdump -w record.pcap -i lo0</span></span></p>\r\n<p><span style=\"font-family: &apos;courier new&apos;, courier;\">&#xA0; &#x5C06;lo0&#x63A5;&#x53E3;&#x7684;&#x901A;&#x4FE1;&#x5B58;&#x5165;&#x6587;&#x4EF6;record.pcap</span></p>\r\n<p><span style=\"font-family: &apos;courier new&apos;, courier;\">&#xA0;</span></p>\r\n<h3><span style=\"font-family: &apos;courier new&apos;, courier;\">&#x57DF;&#x540D;&#x89E3;&#x6790;</span></h3>\r\n<p class=\"p1\"><span style=\"font-family: &apos;courier new&apos;, courier;\">DNS&#x662F;&#x5728;&#x57DF;&#x540D;&#x548C;IP&#x4E4B;&#x95F4;&#x8FDB;&#x884C;&#x7FFB;&#x8BD1;&#x3002;DNS&#x6545;&#x969C;&#x4F1A;&#x5BFC;&#x81F4;&#x6211;&#x4EEC;&#x65E0;&#x6CD5;&#x901A;&#x8FC7;&#x57DF;&#x540D;&#x8BBF;&#x95EE;&#x67D0;&#x4E2A;&#x7F51;&#x5740;&#x3002;&#xA0;</span></p>\r\n<p><span style=\"font-family: &apos;courier new&apos;, courier; color: #800000;\">host www.sina.com.cn</span></p>\r\n<p><span style=\"font-family: &apos;courier new&apos;, courier;\">DNS&#x57DF;&#x540D;&#x89E3;&#x6790;&#x3002;&#x8FD4;&#x56DE;&#x57DF;&#x540D;&#x5BF9;&#x5E94;&#x7684;IP&#x5730;&#x5740;</span></p>\r\n<p><span style=\"font-family: &apos;courier new&apos;, courier;\">&#xA0;</span></p>"}