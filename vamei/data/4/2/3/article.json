{"content":"<p><span style=\"font-family: courier new,courier;\"><span style=\"font-family: courier new,courier;\"><span style=\"color: #ff0000; font-family: courier new,courier;\"><span style=\"color: #000000;\">&#x4F5C;&#x8005;&#xFF1A;Vamei &#x51FA;&#x5904;&#xFF1A;http://www.cnblogs.com/vamei &#x6B22;&#x8FCE;&#x8F6C;&#x8F7D;&#xFF0C;&#x4E5F;&#x8BF7;&#x4FDD;&#x7559;&#x8FD9;&#x6BB5;&#x58F0;&#x660E;&#x3002;&#x8C22;&#x8C22;&#xFF01;</span></span></span></span></p>\r\n<p>&#xA0;</p>\r\n<p><span style=\"font-family: courier new,courier;\">&#x5230;&#x73B0;&#x5728;&#x4E3A;&#x6B62;&#xFF0C;&#x6211;&#x4EEC;&#x8BB2;&#x89E3;&#x4E86;&#x7F51;&#x7EDC;&#x5C42;&#x4E2D;&#x6700;&#x91CD;&#x8981;&#x7684;IP&#x534F;&#x8BAE;(&#x53C2;&#x8003;<a href=\"http://www.cnblogs.com/vamei/archive/2012/12/05/2802811.html\">&#x534F;&#x8BAE;&#x68EE;&#x6797;</a>)&#x3002;IP&#x534F;&#x8BAE;&#x7684;&#x4E00;&#x4E2A;&#x91CD;&#x8981;&#x8865;&#x5145;&#x662F;&#x662F;ICMP&#x534F;&#x8BAE;&#x3002;</span></p>\r\n<p><span style=\"font-family: courier new,courier;\">&#xA0;</span></p>\r\n<h2><span style=\"font-family: courier new,courier;\">ICMP&#x534F;&#x8BAE;</span></h2>\r\n<p><span style=\"font-family: courier new,courier;\"><span style=\"color: #ff0000;\">ICMP</span>(<span style=\"color: #ff0000;\">Internet Control Message Protocol</span>)&#x662F;<span style=\"color: #ff0000;\">&#x4ECB;&#x4E8E;&#x7F51;&#x7EDC;&#x5C42;&#x548C;&#x4F20;&#x8F93;&#x5C42;</span>&#x7684;&#x534F;&#x8BAE;&#x3002;&#x5B83;&#x7684;&#x4E3B;&#x8981;&#x529F;&#x80FD;&#x662F;<span style=\"color: #ff0000;\">&#x4F20;&#x8F93;&#x7F51;&#x7EDC;&#x8BCA;&#x65AD;&#x4FE1;&#x606F;</span>&#x3002;</span></p>\r\n<p>&#xA0;</p>\r\n<p><img style=\"display: block; margin-left: auto; margin-right: auto;\" src=\"http://pic002.cnblogs.com/images/2012/413416/2012120514164298.jpg\" alt=\"\"></p>\r\n<p>&#xA0;</p>\r\n<p>&#xA0;</p>\r\n<p><span style=\"font-family: courier new,courier;\">ICMP&#x4F20;&#x8F93;&#x7684;&#x4FE1;&#x606F;&#x53EF;&#x4EE5;&#x5206;&#x4E3A;&#x4E24;&#x7C7B;&#xFF0C;&#x4E00;&#x7C7B;&#x662F;<span style=\"color: #ff0000;\">&#x9519;&#x8BEF;(error)&#x4FE1;&#x606F;</span>&#xFF0C;&#x8FD9;&#x4E00;&#x7C7B;&#x4FE1;&#x606F;&#x53EF;&#x7528;&#x6765;&#x8BCA;&#x65AD;&#x7F51;&#x7EDC;&#x6545;&#x969C;&#x3002;&#x6211;&#x4EEC;&#x5DF2;&#x7ECF;&#x77E5;&#x9053;&#xFF0C;IP&#x534F;&#x8BAE;&#x7684;&#x5DE5;&#x4F5C;&#x65B9;&#x5F0F;&#x662F;&#x201C;Best Effort&#x201D;&#xFF0C;&#x5982;&#x679C;IP&#x5305;&#x6CA1;&#x6709;&#x88AB;&#x4F20;&#x9001;&#x5230;&#x76EE;&#x7684;&#x5730;&#xFF0C;&#x6216;&#x8005;IP&#x5305;&#x53D1;&#x751F;&#x9519;&#x8BEF;&#xFF0C;IP&#x534F;&#x8BAE;&#x672C;&#x8EAB;&#x4E0D;&#x4F1A;&#x505A;&#x8FDB;&#x4E00;&#x6B65;&#x7684;&#x52AA;&#x529B;&#x3002;&#x4F46;&#x4E0A;&#x6E38;&#x53D1;&#x9001;IP&#x5305;&#x7684;&#x4E3B;&#x673A;&#x548C;&#x63A5;&#x529B;&#x7684;&#x8DEF;&#x7531;&#x5668;&#x5E76;&#x4E0D;&#x77E5;&#x9053;&#x4E0B;&#x6E38;&#x53D1;&#x751F;&#x4E86;&#x9519;&#x8BEF;&#x548C;&#x6545;&#x969C;&#xFF0C;&#x5B83;&#x4EEC;&#x53EF;&#x80FD;&#x7EE7;&#x7EED;&#x53D1;&#x9001;IP&#x5305;&#x3002;&#x901A;&#x8FC7;ICMP&#x5305;&#xFF0C;&#x4E0B;&#x6E38;&#x7684;&#x8DEF;&#x7531;&#x5668;&#x548C;&#x4E3B;&#x673A;&#x53EF;&#x4EE5;&#x5C06;&#x9519;&#x8BEF;&#x4FE1;&#x606F;&#x6C47;&#x62A5;&#x7ED9;&#x4E0A;&#x6E38;&#xFF0C;&#x4ECE;&#x800C;&#x8BA9;&#x4E0A;&#x6E38;&#x7684;&#x8DEF;&#x7531;&#x5668;&#x548C;&#x4E3B;&#x673A;&#x8FDB;&#x884C;&#x8C03;&#x6574;&#x3002;&#x9700;&#x8981;&#x6CE8;&#x610F;&#x7684;&#x662F;&#xFF0C;ICMP&#x53EA;&#x63D0;&#x4F9B;&#x7279;&#x5B9A;&#x7C7B;&#x578B;&#x7684;&#x9519;&#x8BEF;&#x6C47;&#x62A5;&#xFF0C;&#x5B83;&#x4E0D;&#x80FD;&#x5E2E;&#x52A9;IP&#x534F;&#x8BAE;&#x6210;&#x4E3A;&#x201C;&#x53EF;&#x9760;&#x201D;(reliable)&#x7684;&#x534F;&#x8BAE;&#x3002;&#x53E6;&#x4E00;&#x7C7B;&#x4FE1;&#x606F;&#x662F;<span style=\"color: #ff0000;\">&#x54A8;&#x8BE2;(Informational)</span>&#x6027;&#x8D28;&#x7684;&#xFF0C;&#x6BD4;&#x5982;&#x67D0;&#x53F0;&#x8BA1;&#x7B97;&#x673A;&#x8BE2;&#x95EE;&#x8DEF;&#x5F84;&#x4E0A;&#x7684;&#x6BCF;&#x4E2A;&#x8DEF;&#x7531;&#x5668;&#x90FD;&#x662F;&#x8C01;&#xFF0C;&#x7136;&#x540E;&#x5404;&#x4E2A;&#x8DEF;&#x7531;&#x5668;&#x540C;&#x6837;&#x7528;ICMP&#x5305;&#x56DE;&#x7B54;&#x3002;</span></p>\r\n<p><span style=\"font-family: courier new,courier;\">(ICMP&#x57FA;&#x4E8E;IP&#x534F;&#x8BAE;&#x3002;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#xFF0C;&#x4E00;&#x4E2A;ICMP&#x5305;&#x9700;&#x8981;&#x5C01;&#x88C5;&#x5728;IP&#x5305;&#x4E2D;&#xFF0C;&#x7136;&#x540E;&#x5728;&#x4E92;&#x8054;&#x7F51;&#x4F20;&#x9001;&#x3002;ICMP&#x662F;IP&#x5957;&#x88C5;&#x7684;&#x5FC5;&#x987B;&#x90E8;&#x5206;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#xFF0C;&#x4EFB;&#x4F55;&#x4E00;&#x4E2A;&#x652F;&#x6301;IP&#x534F;&#x8BAE;&#x7684;&#x8BA1;&#x7B97;&#x673A;&#xFF0C;&#x90FD;&#x8981;&#x540C;&#x65F6;&#x5B9E;&#x73B0;ICMP&#x3002;)</span></p>\r\n<p><span style=\"font-family: courier new,courier;\">ICMP&#x5305;&#x7684;&#x7ED3;&#x6784;&#xFF1A;</span></p>\r\n<p><img style=\"display: block; margin-left: auto; margin-right: auto;\" src=\"http://pic002.cnblogs.com/images/2012/413416/2012120510270694.png\" alt=\"\"></p>\r\n<p style=\"text-align: center;\">A bunch of Types</p>\r\n<p>ICMP&#x5305;&#x90FD;&#x4F1A;&#x6709;<span style=\"color: #ff0000;\">Type</span>, <span style=\"color: #ff0000;\">Code</span>&#x548C;<span style=\"color: #ff0000;\">Checksum</span>&#x4E09;&#x90E8;&#x5206;&#x3002;Type&#x8868;&#x793A;ICMP&#x5305;&#x7684;&#x5927;&#x7684;&#x7C7B;&#x578B;&#xFF0C;&#x800C;Code&#x662F;&#x4E00;&#x4E2A;Type&#x4E4B;&#x5185;&#x7EC6;&#x5206;&#x7684;&#x5C0F;&#x7C7B;&#x578B;&#x3002;&#x9488;&#x5BF9;&#x4E0D;&#x540C;&#x7684;&#x9519;&#x8BEF;&#x4FE1;&#x606F;&#x6216;&#x8005;&#x54A8;&#x8BE2;&#x4FE1;&#x606F;&#xFF0C;&#x4F1A;&#x6709;&#x4E0D;&#x540C;&#x7684;Type&#x548C;Code&#x3002;&#x4ECE;&#x4E0A;&#x9762;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#xFF0C;ICMP&#x652F;&#x6301;&#x7684;&#x7C7B;&#x578B;&#x975E;&#x5E38;&#x591A;&#xFF0C;&#x5C31;&#x597D;&#x50CF;&#x745E;&#x58EB;&#x519B;&#x5200;&#x4E00;&#x6837;&#xFF0C;&#x6709;&#x5404;&#x79CD;&#x5404;&#x6837;&#x7684;&#x529F;&#x80FD;&#x3002;Checksum&#x4E0E;IP&#x534F;&#x8BAE;&#x7684;header checksum&#x76F8;&#x7C7B;&#x4F3C;&#xFF0C;&#x4F46;&#x4E0E;IP&#x534F;&#x8BAE;&#x4E2D;checksum&#x53EA;&#x6821;&#x9A8C;&#x5934;&#x90E8;&#x4E0D;&#x540C;&#xFF0C;&#x8FD9;&#x91CC;&#x7684;Checksum&#x6240;&#x6821;&#x9A8C;&#x7684;&#x662F;&#x6574;&#x4E2A;ICMP&#x5305;(&#x5305;&#x62EC;&#x5934;&#x90E8;&#x548C;&#x6570;&#x636E;)&#x3002;</p>\r\n<p><img style=\"display: block; margin-left: auto; margin-right: auto;\" src=\"http://pic002.cnblogs.com/images/2012/413416/2012120512271643.jpg\" alt=\"\"></p>\r\n<p>&#x4F59;&#x4E0B;&#x7684;ICMP&#x5305;&#x683C;&#x5F0F;&#x6839;&#x636E;&#x4E0D;&#x540C;&#x7684;&#x7C7B;&#x578B;&#x4E0D;&#x540C;&#x3002;&#x53E6;&#x4E00;&#x65B9;&#x9762;&#xFF0C;ICMP&#x5305;&#x901A;&#x5E38;&#x662F;&#x7531;&#x67D0;&#x4E2A;IP&#x5305;&#x89E6;&#x53D1;&#x7684;&#x3002;&#x8FD9;&#x4E2A;<span style=\"color: #ff0000;\">&#x89E6;&#x53D1;IP&#x5305;</span>&#x7684;&#x5934;&#x90E8;&#x548C;&#x4E00;&#x90E8;&#x4EFD;&#x6570;&#x636E;&#x4F1A;&#x88AB;&#x5305;&#x542B;&#x5728;ICMP&#x5305;&#x7684;&#x6570;&#x636E;&#x90E8;&#x5206;&#x3002;</p>\r\n<p><span style=\"font-family: courier new,courier;\">ICMP&#x534F;&#x8BAE;&#x662F;&#x5B9E;&#x73B0;<span style=\"color: #993300;\">ping</span>&#x547D;&#x4EE4;&#x548C;<span style=\"color: #993300;\">traceroute</span>&#x547D;&#x4EE4;&#x7684;&#x57FA;&#x7840;&#x3002;&#x8FD9;&#x4E24;&#x4E2A;&#x5DE5;&#x5177;&#x5E38;&#x7528;&#x4E8E;&#x7F51;&#x7EDC;&#x6392;&#x9519;&#x3002;</span></p>\r\n<h2>&#xA0;</h2>\r\n<h2><span style=\"font-family: courier new,courier;\">&#x5E38;&#x89C1;&#x7684;ICMP&#x5305;&#x7C7B;&#x578B;</span></h2>\r\n<h4><span style=\"font-family: courier new,courier;\">&#x56DE;&#x97F3;</span></h4>\r\n<p><span style=\"font-family: courier new,courier;\"><span style=\"color: #ff0000;\">&#x56DE;&#x97F3;(Echo)</span>&#x5C5E;&#x4E8E;&#x54A8;&#x8BE2;&#x4FE1;&#x606F;&#x3002;<span style=\"color: #993300;\">ping</span>&#x547D;&#x4EE4;&#x5C31;&#x662F;&#x5229;&#x7528;&#x4E86;&#x8BE5;&#x7C7B;&#x578B;&#x7684;ICMP&#x5305;&#x3002;&#x5F53;&#x4F7F;&#x7528;ping&#x547D;&#x4EE4;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x5C06;&#x5411;&#x76EE;&#x6807;&#x4E3B;&#x673A;&#x53D1;&#x9001;Echo-&#x8BE2;&#x95EE;&#x7C7B;&#x578B;&#x7684;ICMP&#x5305;&#xFF0C;&#x800C;&#x76EE;&#x6807;&#x4E3B;&#x673A;&#x5728;&#x63A5;&#x6536;&#x5230;&#x8BE5;ICMP&#x5305;&#x4E4B;&#x540E;&#xFF0C;&#x4F1A;&#x56DE;&#x590D;Echo-&#x56DE;&#x7B54;&#x7C7B;&#x578B;&#x7684;ICMP&#x5305;&#xFF0C;&#x5E76;&#x5C06;&#x8BE2;&#x95EE;ICMP&#x5305;&#x5305;&#x542B;&#x5728;&#x6570;&#x636E;&#x90E8;&#x5206;&#x3002;ping&#x547D;&#x4EE4;&#x662F;&#x6211;&#x4EEC;&#x8FDB;&#x884C;&#x7F51;&#x7EDC;&#x6392;&#x67E5;&#x7684;&#x4E00;&#x4E2A;&#x91CD;&#x8981;&#x5DE5;&#x5177;&#x3002;&#x5982;&#x679C;&#x4E00;&#x4E2A;IP&#x5730;&#x5740;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;ping&#x547D;&#x4EE4;&#x6536;&#x5230;&#x56DE;&#x590D;&#xFF0C;&#x90A3;&#x4E48;&#x5176;&#x4ED6;&#x7684;&#x7F51;&#x7EDC;&#x534F;&#x8BAE;&#x901A;&#x4FE1;&#x65B9;&#x5F0F;&#x4E5F;&#x5F88;&#x6709;&#x53EF;&#x80FD;&#x6210;&#x529F;&#x3002;</span></p>\r\n<p>&#xA0;</p>\r\n<h4><span style=\"font-family: courier new,courier;\">&#x6E90;&#x5934;&#x51B7;&#x5374;<br></span></h4>\r\n<p><span style=\"font-family: courier new,courier;\">&#x6E90;&#x5934;&#x51B7;&#x5374;(source quench)&#x5C5E;&#x4E8E;&#x9519;&#x8BEF;&#x4FE1;&#x606F;&#x3002;&#x5982;&#x679C;&#x67D0;&#x4E2A;&#x4E3B;&#x673A;&#x5FEB;&#x901F;&#x7684;&#x5411;&#x76EE;&#x7684;&#x5730;&#x4F20;&#x9001;&#x6570;&#x636E;&#xFF0C;&#x800C;&#x76EE;&#x7684;&#x5730;&#x4E3B;&#x673A;&#x6CA1;&#x6709;&#x5339;&#x914D;&#x7684;&#x5904;&#x7406;&#x80FD;&#x529B;&#xFF0C;&#x76EE;&#x7684;&#x5730;&#x4E3B;&#x673A;&#x53EF;&#x4EE5;&#x5411;&#x51FA;&#x53D1;&#x4E3B;&#x673A;&#x53D1;&#x51FA;&#x8BE5;&#x7C7B;&#x578B;&#x7684;ICMP&#x5305;&#xFF0C;&#x63D0;&#x9192;&#x51FA;&#x53D1;&#x4E3B;&#x673A;&#x653E;&#x6162;&#x53D1;&#x9001;&#x901F;&#x5EA6;(&#x8BF7;&#x6E29;&#x67D4;&#x4E00;&#x70B9;&#x5427;)&#x3002;</span></p>\r\n<h4>&#xA0;</h4>\r\n<h4>&#x76EE;&#x7684;&#x5730;&#x65E0;&#x6CD5;&#x5230;&#x8FBE;</h4>\r\n<p><span style=\"font-family: courier new,courier;\"><span style=\"font-family: courier new,courier; color: #ff0000;\">&#x76EE;&#x7684;&#x5730;&#x65E0;&#x6CD5;&#x5230;&#x8FBE;(Destination Unreachable)</span>&#x5C5E;&#x4E8E;&#x9519;&#x8BEF;&#x4FE1;&#x606F;&#x3002;&#x5982;&#x679C;&#x4E00;&#x4E2A;&#x8DEF;&#x7531;&#x5668;&#x63A5;&#x6536;&#x5230;&#x4E00;&#x4E2A;&#x6CA1;&#x529E;&#x6CD5;&#x8FDB;&#x4E00;&#x6B65;&#x63A5;&#x529B;&#x7684;IP&#x5305;&#xFF0C;&#x5B83;&#x4F1A;&#x5411;&#x51FA;&#x53D1;&#x4E3B;&#x673A;&#x53D1;&#x9001;&#x8BE5;&#x7C7B;&#x578B;&#x7684;ICMP&#x5305;&#x3002;&#x6BD4;&#x5982;&#x5F53;IP&#x5305;&#x5230;&#x8FBE;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x8DEF;&#x7531;&#x5668;&#xFF0C;&#x8DEF;&#x7531;&#x5668;&#x53D1;&#x73B0;&#x76EE;&#x7684;&#x5730;&#x4E3B;&#x673A;down&#x673A;&#xFF0C;&#x5C31;&#x4F1A;&#x5411;&#x51FA;&#x53D1;&#x4E3B;&#x673A;&#x53D1;&#x9001;&#x76EE;&#x7684;&#x5730;&#x65E0;&#x6CD5;&#x5230;&#x8FBE;(Destination Unreachable)&#x7C7B;&#x578B;&#x7684;ICMP&#x5305;&#x3002;&#x76EE;&#x7684;&#x5730;&#x65E0;&#x6CD5;&#x5230;&#x8FBE;&#x8FD8;&#x53EF;&#x80FD;&#x6709;&#x5176;&#x4ED6;&#x7684;&#x539F;&#x56E0;&#xFF0C;&#x6BD4;&#x5982;&#x4E0D;&#x5B58;&#x5728;&#x63A5;&#x529B;&#x8DEF;&#x5F84;&#xFF0C;&#x6BD4;&#x5982;&#x4E0D;&#x88AB;&#x63A5;&#x6536;&#x7684;&#x7AEF;&#x53E3;&#x53F7;&#x7B49;&#x7B49;&#x3002;</span></p>\r\n<p>&#xA0;</p>\r\n<h4><span style=\"font-family: courier new,courier;\">&#x8D85;&#x65F6;</span></h4>\r\n<p><span style=\"font-family: courier new,courier;\"><span style=\"font-family: courier new,courier;\"><span style=\"color: #ff0000;\">&#x8D85;&#x65F6;(Time Exceeded)</span></span>&#x5C5E;&#x4E8E;&#x9519;&#x8BEF;&#x4FE1;&#x606F;&#x3002;<a href=\"http://www.cnblogs.com/vamei/archive/2012/12/02/2796988.html\">IPv4&#x4E2D;&#x7684;<span style=\"color: #ff0000;\">Time to Live(TTL)</span>&#x548C;IPv6&#x4E2D;&#x7684;<span style=\"color: #ff0000;\">Hop Limit</span></a>&#x4F1A;&#x968F;&#x7740;&#x7ECF;&#x8FC7;&#x7684;&#x8DEF;&#x7531;&#x5668;&#x800C;&#x9012;&#x51CF;&#xFF0C;&#x5F53;&#x8FD9;&#x4E2A;&#x533A;&#x57DF;&#x503C;&#x51CF;&#x4E3A;0&#x65F6;&#xFF0C;&#x5C31;&#x8BA4;&#x4E3A;&#x8BE5;IP&#x5305;<span style=\"color: #ff0000;\">&#x8D85;&#x65F6;(Time Exceeded)</span>&#x3002;Time Exceeded&#x5C31;&#x662F;TTL&#x51CF;&#x4E3A;0&#x65F6;&#x7684;&#x8DEF;&#x7531;&#x5668;&#x53D1;&#x7ED9;&#x51FA;&#x53D1;&#x4E3B;&#x673A;&#x7684;ICMP&#x5305;&#xFF0C;&#x901A;&#x77E5;&#x5B83;&#x53D1;&#x751F;&#x4E86;&#x8D85;&#x65F6;&#x9519;&#x8BEF;&#x3002;</span></p>\r\n<p><span style=\"font-family: courier new,courier;\"><span style=\"color: #993300;\">traceroute</span>&#x5C31;&#x5229;&#x7528;&#x4E86;&#x8FD9;&#x79CD;&#x7C7B;&#x578B;&#x7684;ICMP&#x5305;&#x3002;traceroute&#x547D;&#x4EE4;&#x7528;&#x6765;&#x53D1;&#x73B0;IP&#x63A5;&#x529B;&#x8DEF;&#x5F84;(route)&#x4E0A;&#x7684;&#x5404;&#x4E2A;&#x8DEF;&#x7531;&#x5668;&#x3002;&#x5B83;&#x5411;&#x76EE;&#x7684;&#x5730;&#x53D1;&#x9001;IP&#x5305;&#xFF0C;&#x7B2C;&#x4E00;&#x6B21;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x5C06;TTL&#x8BBE;&#x7F6E;&#x4E3A;1&#xFF0C;&#x5F15;&#x53D1;&#x7B2C;&#x4E00;&#x4E2A;&#x8DEF;&#x7531;&#x5668;&#x7684;Time Exceeded&#x9519;&#x8BEF;&#x3002;&#x8FD9;&#x6837;&#xFF0C;&#x7B2C;&#x4E00;&#x4E2A;&#x8DEF;&#x7531;&#x5668;&#x56DE;&#x590D;ICMP&#x5305;&#xFF0C;&#x4ECE;&#x800C;&#x8BA9;&#x51FA;&#x53D1;&#x4E3B;&#x673A;&#x77E5;&#x9053;&#x9014;&#x5F84;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x8DEF;&#x7531;&#x5668;&#x7684;&#x4FE1;&#x606F;&#x3002;&#x968F;&#x540E;TTL&#x88AB;&#x8BBE;&#x7F6E;&#x4E3A;2&#x3001;3&#x3001;4&#xFF0C;...&#xFF0C;&#x76F4;&#x5230;&#x5230;&#x8FBE;&#x76EE;&#x7684;&#x4E3B;&#x673A;&#x3002;&#x8FD9;&#x6837;&#xFF0C;&#x6CBF;&#x9014;&#x7684;&#x6BCF;&#x4E2A;&#x8DEF;&#x7531;&#x5668;&#x90FD;&#x4F1A;&#x5411;&#x51FA;&#x53D1;&#x4E3B;&#x673A;&#x53D1;&#x9001;ICMP&#x5305;&#x6765;&#x6C47;&#x62A5;&#x9519;&#x8BEF;&#x3002;traceroute&#x5C06;ICMP&#x5305;&#x7684;&#x4FE1;&#x606F;&#x6253;&#x5370;&#x5728;&#x5C4F;&#x5E55;&#x4E0A;&#xFF0C;&#x5C31;&#x662F;&#x63A5;&#x529B;&#x8DEF;&#x5F84;&#x7684;&#x4FE1;&#x606F;&#x4E86;&#x3002;</span></p>\r\n<p>&#xA0;</p>\r\n<h4>&#x91CD;&#x65B0;&#x5B9A;&#x5411;</h4>\r\n<p><span style=\"color: #ff0000;\">&#x91CD;&#x65B0;&#x5B9A;&#x5411;(redirect)</span>&#x5C5E;&#x4E8E;&#x9519;&#x8BEF;&#x4FE1;&#x606F;&#x3002;&#x5F53;&#x4E00;&#x4E2A;&#x8DEF;&#x7531;&#x5668;&#x6536;&#x5230;&#x4E00;&#x4E2A;IP&#x5305;&#xFF0C;&#x5BF9;&#x7167;&#x5176;routing table&#xFF0C;&#x53D1;&#x73B0;&#x81EA;&#x5DF1;&#x4E0D;&#x5E94;&#x8BE5;&#x6536;&#x5230;&#x8BE5;IP&#x5305;&#xFF0C;&#x5B83;&#x4F1A;&#x5411;&#x51FA;&#x53D1;&#x4E3B;&#x673A;&#x53D1;&#x9001;&#x91CD;&#x65B0;&#x5B9A;&#x5411;&#x7C7B;&#x578B;&#x7684;ICMP&#xFF0C;&#x63D0;&#x9192;&#x51FA;&#x53D1;&#x4E3B;&#x673A;&#x4FEE;&#x6539;&#x81EA;&#x5DF1;&#x7684;routing table&#x3002;&#x6BD4;&#x5982;&#x4E0B;&#x9762;&#x7684;&#x7F51;&#x7EDC;&#xFF1A;</p>\r\n<p><img style=\"display: block; margin-left: auto; margin-right: auto;\" src=\"http://pic002.cnblogs.com/images/2012/413416/2012120511290987.png\" alt=\"\" width=\"935\" height=\"466\"></p>\r\n<p><span style=\"font-family: courier new,courier;\">&#x5047;&#x5982;145.1&#x53D1;&#x9001;&#x5230;145.15&#x7684;IP&#x5305;&#xFF0C;&#x7ED3;&#x679C;&#x88AB;&#x4E2D;&#x95F4;&#x7684;&#x8DEF;&#x7531;&#x5668;&#x901A;&#x8FC7;145.17&#x7684;NIC&#x6536;&#x5230;&#x3002;&#x90A3;&#x4E48;&#x8DEF;&#x7531;&#x5668;&#x4F1A;&#x53D1;&#x73B0;&#xFF0C;&#x6839;&#x636E;&#x81EA;&#x5DF1;&#x7684;routing table&#xFF0C;&#x8FD9;&#x4E2A;IP&#x5305;&#x8981;&#x539F;&#x8DEF;&#x8FD4;&#x56DE;&#x3002;&#x90A3;&#x4E48;router&#x5C31;&#x53EF;&#x4EE5;&#x5224;&#x65AD;&#x51FA;145.1&#x7684;routing table&#x53EF;&#x80FD;&#x6709;&#x95EE;&#x9898;&#x3002;&#x6240;&#x4EE5;&#x8DEF;&#x7531;&#x5668;&#x4F1A;&#x5411;145.1&#x53D1;&#x9001;redirect&#x7C7B;&#x578B;&#x7684;ICMP&#x5305;&#x3002;</span></p>\r\n<h2>&#xA0;</h2>\r\n<h4><span style=\"font-family: courier new,courier;\">IPv6&#x7684;Neighbor Discovery<br></span></h4>\r\n<p><span style=\"font-family: courier new,courier;\"><a href=\"http://www.cnblogs.com/vamei/archive/2012/11/30/2794917.html\">ARP&#x534F;&#x8BAE;</a>&#x7528;&#x4E8E;&#x53D1;&#x73B0;&#x5468;&#x8FB9;&#x7684;IP&#x5730;&#x5740;&#x548C;MAC&#x5730;&#x5740;&#x7684;&#x5BF9;&#x5E94;&#x3002;&#x7136;&#x800C;&#xFF0C;ARP&#x534F;&#x8BAE;&#x53EA;&#x7528;&#x4E8E;IPv4&#xFF0C;IPv6&#x5E76;&#x4E0D;&#x4F7F;&#x7528;ARP&#x534F;&#x8BAE;&#x3002;IPv6&#x5305;&#x901A;&#x8FC7;<span style=\"color: #ff0000;\">&#x90BB;&#x5C45;&#x63A2;&#x7D22;(ND, Neighbor Discovery)</span>&#x6765;&#x5B9E;&#x73B0;ARP&#x7684;&#x529F;&#x80FD;&#x3002;ND&#x7684;&#x5DE5;&#x4F5C;&#x65B9;&#x5F0F;&#x4E0E;ARP&#x7C7B;&#x4F3C;&#xFF0C;&#x4F46;&#x5B83;&#x57FA;&#x4E8E;ICMP&#x534F;&#x8BAE;&#x3002;ICMP&#x5305;&#x6709;<span style=\"color: #ff0000;\">Neighbor Solicitation</span>&#x548C;<span style=\"color: #ff0000;\">Neighbor Advertisement</span>&#x7C7B;&#x578B;&#x3002;&#x8FD9;&#x4E24;&#x4E2A;&#x7C7B;&#x578B;&#x5206;&#x522B;&#x5BF9;&#x5E94;ARP&#x534F;&#x8BAE;&#x7684;&#x8BE2;&#x95EE;&#x548C;&#x56DE;&#x590D;&#x4FE1;&#x606F;&#x3002;<br></span></p>\r\n<p><span style=\"font-family: courier new,courier;\">&#xA0;</span></p>\r\n<h2><span style=\"font-family: courier new,courier;\">&#x603B;&#x7ED3;</span></h2>\r\n<p><span style=\"font-family: courier new,courier;\">ICMP&#x534F;&#x8BAE;&#x662F;IP&#x534F;&#x8BAE;&#x7684;&#x6392;&#x9519;&#x5E2E;&#x624B;&#xFF0C;&#x5B83;&#x53EF;&#x4EE5;&#x5E2E;&#x52A9;&#x4EBA;&#x4EEC;&#x53CA;&#x65F6;&#x53D1;&#x73B0;IP&#x901A;&#x4FE1;&#x4E2D;&#x51FA;&#x73B0;&#x7684;&#x6545;&#x969C;&#x3002;&#x57FA;&#x4E8E;ICMP&#x7684;ping&#x548C;traceroute&#x4E5F;&#x6784;&#x6210;&#x4E86;&#x91CD;&#x8981;&#x7684;&#x7F51;&#x7EDC;&#x8BCA;&#x65AD;&#x5DE5;&#x5177;&#x3002;&#x7136;&#x800C;&#xFF0C;&#x9700;&#x8981;&#x6CE8;&#x610F;&#x7684;&#x662F;&#xFF0C;&#x5C3D;&#x7BA1;ICMP&#x7684;&#x8BBE;&#x8BA1;&#x662F;&#x51FA;&#x4E8E;&#x597D;&#x7684;&#x610F;&#x56FE;&#xFF0C;&#x4F46;ICMP&#x5374;&#x7ECF;&#x5E38;&#x88AB;&#x9ED1;&#x5BA2;&#x501F;&#x7528;&#x8FDB;&#x884C;<span style=\"color: #ff0000;\">&#x7F51;&#x7EDC;&#x653B;&#x51FB;</span>&#xFF0C;&#x6BD4;&#x5982;&#x5229;&#x7528;&#x4F2A;&#x9020;&#x7684;IP&#x5305;&#x5F15;&#x53D1;&#x5927;&#x91CF;&#x7684;ICMP&#x56DE;&#x590D;&#xFF0C;&#x5E76;&#x5C06;&#x8FD9;&#x4E9B;ICMP&#x5305;&#x5BFC;&#x5411;&#x53D7;&#x5BB3;&#x4E3B;&#x673A;&#xFF0C;&#x4ECE;&#x800C;&#x5F62;&#x6210;DoS&#x653B;&#x51FB;&#x3002;&#x800C;redirect&#x7C7B;&#x578B;&#x7684;ICMP&#x5305;&#x53EF;&#x4EE5;&#x5F15;&#x8D77;&#x67D0;&#x4E2A;&#x4E3B;&#x673A;&#x66F4;&#x6539;&#x81EA;&#x5DF1;&#x7684;routing table&#xFF0C;&#x6240;&#x4EE5;&#x4E5F;&#x88AB;&#x7528;&#x4F5C;&#x653B;&#x51FB;&#x5DE5;&#x5177;&#x3002;&#x8BB8;&#x591A;&#x7AD9;&#x70B9;&#x9009;&#x62E9;&#x5FFD;&#x89C6;&#x67D0;&#x4E9B;&#x7C7B;&#x578B;&#x7684;ICMP&#x5305;&#x6765;&#x63D0;&#x9AD8;&#x81EA;&#x8EAB;&#x7684;&#x5B89;&#x5168;&#x6027;&#x3002;</span></p>\r\n<p>&#xA0;</p>\r\n<p><span style=\"color: #ff0000; font-family: courier new,courier;\"><span style=\"color: #000000;\">&#x6B22;&#x8FCE;&#x7EE7;&#x7EED;&#x9605;&#x8BFB;&#x201C;<a id=\"ctl03_CatList_LinkList_1_Link_3\" href=\"http://www.cnblogs.com/vamei/archive/2012/12/05/2802811.html\">&#x534F;&#x8BAE;&#x68EE;&#x6797;</a>&#x201D;&#x7CFB;&#x5217;</span></span></p>\r\n<p>&#xA0;</p>"}